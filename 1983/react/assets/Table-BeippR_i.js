import{r as p,B as ie,Z as fn,q as Vt,s as po,I as gn,c as xe,d as Yn,a1 as Zn,a2 as Lt,k as mo,g as ho,e as vo}from"./index-DcTlL2oN.js";import{P as Mn}from"./ProgressRadial-BzxJHsPh.js";import{S as Qn}from"./SvgChevronRight-CxIVt-7l.js";import{C as Dn}from"./Checkbox-DO6LN3SM.js";import{u as Ro}from"./useIntersection-CWKvzQKL.js";import{W as yo}from"./WithCSSTransition-Buo-nQcq.js";import{V as wo}from"./VirtualScroll-6SlxjIPE.js";import{P as bo}from"./Popover-DjArJ8lA.js";const er=p.forwardRef((o,s)=>{const{lines:c,children:u,...g}=o;return p.createElement(ie,{ref:s,...g,style:{"--_iui-line-clamp":c,...o.style}},p.createElement(fn,{css:So},p.createElement("slot",null)),u)}),So=`
  :host {
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: var(--_iui-line-clamp, 3);
    -webkit-box-orient: vertical;
  }
`,Co=o=>p.createElement(Vt,{...o},p.createElement("path",{d:"m9 16v-12.7l3.8 3.7 1.2-1.2-6-5.8-1.2 1.2-4.8 4.6 1.2 1.2 3.8-3.7v12.7z"})),Eo=o=>p.createElement(Vt,{...o},p.createElement("path",{d:"m7 0v12.7l-3.8-3.7-1.2 1.2 6 5.8 1.2-1.2 4.8-4.6-1.2-1.2-3.8 3.7v-12.7z"})),xo=o=>p.createElement(Vt,{...o},p.createElement("path",{d:"m0 0v2l6 5v9l4-3v-6l6-5v-2z"})),Io=o=>p.createElement(Vt,{...o},p.createElement("path",{d:"M15 1v.5L9.4 6.2l-.4.3v6L7 14V6.5l-.4-.3L1 1.5V1zm1-1H0v2l6 5v9l4-3V7l6-5z"}));var tr={exports:{}},cn={exports:{}};(function(o,s){(function(c,u){u(s,p)})(po,function(c,u){function g(e,t,n,r,l,i,a){try{var m=e[i](a),h=m.value}catch(R){return void n(R)}m.done?t(h):Promise.resolve(h).then(r,l)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,l){var i=e.apply(t,n);function a(h){g(i,r,l,a,m,"next",h)}function m(h){g(i,r,l,a,m,"throw",h)}a(void 0)})}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(e==null)return{};var n,r,l={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}function B(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var l=n[Symbol.toPrimitive];if(l!==void 0){var i=l.call(n,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return typeof t=="symbol"?t:String(t)}u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;var f={init:"init"},F=function(e){var t=e.value;return t===void 0?"":t},W=function(){return u.createElement(u.Fragment,null," ")},A={Cell:F,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function $(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,l){var i=l.style,a=l.className;return r=d({},r,{},w(l,["style","className"])),i&&(r.style=r.style?d({},r.style||{},{},i||{}):i),a&&(r.className=r.className?r.className+" "+a:a),r.className===""&&delete r.className,r},{})}var N=function(e,t){return t===void 0&&(t={}),function(n){return n===void 0&&(n={}),[].concat(e,[n]).reduce(function(r,l){return function i(a,m,h){return typeof m=="function"?i({},m(a,h)):Array.isArray(m)?$.apply(void 0,[a].concat(m)):$(a,m)}(r,l,d({},t,{userProps:n}))},{})}},re=function(e,t,n,r){return n===void 0&&(n={}),e.reduce(function(l,i){return i(l,n)},t)},ce=function(e,t,n){return n===void 0&&(n={}),e.forEach(function(r){r(t,n)})};function ue(e,t,n,r){e.findIndex(function(l){return l.pluginName===n}),t.forEach(function(l){e.findIndex(function(i){return i.pluginName===l})})}function ge(e,t){return typeof e=="function"?e(t):e}function Z(e){var t=u.useRef();return t.current=e,u.useCallback(function(){return t.current},[])}var te=typeof document<"u"?u.useLayoutEffect:u.useEffect;function se(e,t){var n=u.useRef(!1);te(function(){n.current&&e(),n.current=!0},t)}function Be(e,t,n){return n===void 0&&(n={}),function(r,l){l===void 0&&(l={});var i=typeof r=="string"?t[r]:r;if(i===void 0)throw console.info(t),new Error("Renderer Error ☝️");return we(i,d({},e,{column:t},n,{},l))}}function we(e,t){return function(r){return typeof r=="function"&&(l=Object.getPrototypeOf(r)).prototype&&l.prototype.isReactComponent;var l}(n=e)||typeof n=="function"||function(r){return typeof r=="object"&&typeof r.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(r.$$typeof.description)}(n)?u.createElement(e,t):e;var n}function He(e,t,n){return n===void 0&&(n=0),e.map(function(r){return be(r=d({},r,{parent:t,depth:n})),r.columns&&(r.columns=He(r.columns,r,n+1)),r})}function oe(e){return _e(e,"columns")}function be(e){var t=e.id,n=e.accessor,r=e.Header;if(typeof n=="string"){t=t||n;var l=n.split(".");n=function(i){return function(a,m,h){if(!m)return a;var R,E=typeof m=="function"?m:JSON.stringify(m),b=Me.get(E)||function(){var S=function(y){return function C(z,k){if(k===void 0&&(k=[]),Array.isArray(z))for(var H=0;H<z.length;H+=1)C(z[H],k);else k.push(z);return k}(y).map(function(C){return String(C).replace(".","_")}).join(".").replace(Ue,".").replace(qe,"").split(".")}(m);return Me.set(E,S),S}();try{R=b.reduce(function(S,y){return S[y]},a)}catch{}return R!==void 0?R:h}(i,l)}}if(!t&&typeof r=="string"&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function ke(e,t){if(!t)throw new Error;return Object.assign(e,d({Header:W,Footer:W},A,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function jt(e,t,n){n===void 0&&(n=function(){return{}});for(var r=[],l=e,i=0,a=function(){return i++},m=function(){var h={headers:[]},R=[],E=l.some(function(b){return b.parent});l.forEach(function(b){var S,y=[].concat(R).reverse()[0];E&&(b.parent?S=d({},b.parent,{originalId:b.parent.id,id:b.parent.id+"_"+a(),headers:[b]},n(b)):S=ke(d({originalId:b.id+"_placeholder",id:b.id+"_placeholder_"+a(),placeholderOf:b,headers:[b]},n(b)),t),y&&y.originalId===S.originalId?y.headers.push(b):R.push(S)),h.headers.push(b)}),r.push(h),l=R};l.length;)m();return r.reverse()}var Me=new Map;function Se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(t[r]!==void 0)return t[r]}function De(e){if(typeof e=="function")return e}function _e(e,t){var n=[];return function r(l){l.forEach(function(i){i[t]?r(i[t]):n.push(i)})}(e),n}function Xe(e,t){var n=t.manualExpandedKey,r=t.expanded,l=t.expandSubRows,i=l===void 0||l,a=[];return e.forEach(function(m){return function h(R,E){E===void 0&&(E=!0),R.isExpanded=R.original&&R.original[n]||r[R.id],R.canExpand=R.subRows&&!!R.subRows.length,E&&a.push(R),R.subRows&&R.subRows.length&&R.isExpanded&&R.subRows.forEach(function(b){return h(b,i)})}(m)}),a}function Ge(e,t,n){return De(e)||t[e]||n[e]||n.text}function it(e,t,n){return e?e(t,n):t===void 0}function Ae(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var $e=null,Ue=/\[/g,qe=/\]/g,Ke=function(e){return d({role:"table"},e)},Re=function(e){return d({role:"rowgroup"},e)},_t=function(e,t){var n=t.column;return d({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},Pe=function(e,t){var n=t.column;return d({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},Xt=function(e,t){return d({key:"headerGroup_"+t.index,role:"row"},e)},Rt=function(e,t){return d({key:"footerGroup_"+t.index},e)},yt=function(e,t){return d({key:"row_"+t.row.id,role:"row"},e)},Je=function(e,t){var n=t.cell;return d({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function st(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[Ke],getTableBodyProps:[Re],getHeaderGroupProps:[Xt],getFooterGroupProps:[Rt],getHeaderProps:[_t],getFooterProps:[Pe],getRowProps:[yt],getCellProps:[Je],useFinalInstance:[]}}f.resetHiddenColumns="resetHiddenColumns",f.toggleHideColumn="toggleHideColumn",f.setHiddenColumns="setHiddenColumns",f.toggleHideAllColumns="toggleHideAllColumns";var Ye=function(e){e.getToggleHiddenProps=[lt],e.getToggleHideAllColumnsProps=[Ve],e.stateReducers.push($t),e.useInstanceBeforeDimensions.push(Ut),e.headerGroupsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.hiddenColumns])}),e.useInstance.push(Ze)};Ye.pluginName="useColumnVisibility";var lt=function(e,t){var n=t.column;return[e,{onChange:function(r){n.toggleHidden(!r.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},Ve=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleHideAllColumns(!r.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function $t(e,t,n,r){if(t.type===f.init)return d({hiddenColumns:[]},e);if(t.type===f.resetHiddenColumns)return d({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===f.toggleHideColumn){var l=(t.value!==void 0?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter(function(i){return i!==t.columnId});return d({},e,{hiddenColumns:l})}return t.type===f.setHiddenColumns?d({},e,{hiddenColumns:ge(t.value,e.hiddenColumns)}):t.type===f.toggleHideAllColumns?d({},e,{hiddenColumns:(t.value!==void 0?t.value:!e.hiddenColumns.length)?r.allColumns.map(function(i){return i.id}):[]}):void 0}function Ut(e){var t=e.headers,n=e.state.hiddenColumns;u.useRef(!1).current;var r=0;t.forEach(function(l){return r+=function i(a,m){a.isVisible=m&&!n.includes(a.id);var h=0;return a.headers&&a.headers.length?a.headers.forEach(function(R){return h+=i(R,a.isVisible)}):h=a.isVisible?1:0,a.totalVisibleHeaderCount=h,h}(l,!0)})}function Ze(e){var t=e.columns,n=e.flatHeaders,r=e.dispatch,l=e.allColumns,i=e.getHooks,a=e.state.hiddenColumns,m=e.autoResetHiddenColumns,h=m===void 0||m,R=Z(e),E=l.length===a.length,b=u.useCallback(function(k,H){return r({type:f.toggleHideColumn,columnId:k,value:H})},[r]),S=u.useCallback(function(k){return r({type:f.setHiddenColumns,value:k})},[r]),y=u.useCallback(function(k){return r({type:f.toggleHideAllColumns,value:k})},[r]),C=N(i().getToggleHideAllColumnsProps,{instance:R()});n.forEach(function(k){k.toggleHidden=function(H){r({type:f.toggleHideColumn,columnId:k.id,value:H})},k.getToggleHiddenProps=N(i().getToggleHiddenProps,{instance:R(),column:k})});var z=Z(h);se(function(){z()&&r({type:f.resetHiddenColumns})},[r,t]),Object.assign(e,{allColumnsHidden:E,toggleHideColumn:b,setHiddenColumns:S,toggleHideAllColumns:y,getToggleHideAllColumnsProps:C})}var Ce={},qt={},ut=function(e,t,n){return e},wt=function(e,t){return e.subRows||[]},Kt=function(e,t,n){return""+(n?[n.id,t].join("."):t)},bt=function(e){return e};function me(e){var t=e.initialState,n=t===void 0?Ce:t,r=e.defaultColumn,l=r===void 0?qt:r,i=e.getSubRows,a=i===void 0?wt:i,m=e.getRowId,h=m===void 0?Kt:m,R=e.stateReducer,E=R===void 0?ut:R,b=e.useControlledState,S=b===void 0?bt:b;return d({},w(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:l,getSubRows:a,getRowId:h,stateReducer:E,useControlledState:S})}function St(e,t){t===void 0&&(t=0);var n=0,r=0,l=0,i=0;return e.forEach(function(a){var m=a.headers;if(a.totalLeft=t,m&&m.length){var h=St(m,t),R=h[0],E=h[1],b=h[2],S=h[3];a.totalMinWidth=R,a.totalWidth=E,a.totalMaxWidth=b,a.totalFlexWidth=S}else a.totalMinWidth=a.minWidth,a.totalWidth=Math.min(Math.max(a.minWidth,a.width),a.maxWidth),a.totalMaxWidth=a.maxWidth,a.totalFlexWidth=a.canResize?a.totalWidth:0;a.isVisible&&(t+=a.totalWidth,n+=a.totalMinWidth,r+=a.totalWidth,l+=a.totalMaxWidth,i+=a.totalFlexWidth)}),[n,r,l,i]}function Ie(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.rowsById,i=e.column,a=e.getRowId,m=e.getSubRows,h=e.accessValueHooks,R=e.getInstance;t.forEach(function(E,b){return function S(y,C,z,k,H){z===void 0&&(z=0);var U=y,T=a(y,C,k),x=l[T];if(x)x.subRows&&x.originalSubRows.forEach(function(P,D){return S(P,D,z+1,x)});else if((x={id:T,original:U,index:C,depth:z,cells:[{}]}).cells.map=Ae,x.cells.filter=Ae,x.cells.forEach=Ae,x.cells[0].getCellProps=Ae,x.values={},H.push(x),r.push(x),l[T]=x,x.originalSubRows=m(y,C),x.originalSubRows){var j=[];x.originalSubRows.forEach(function(P,D){return S(P,D,z+1,x,j)}),x.subRows=j}i.accessor&&(x.values[i.id]=i.accessor(y,C,x,H,t)),x.values[i.id]=re(h,x.values[i.id],{row:x,column:i,instance:R()})}(E,b,0,void 0,n)})}f.resetExpanded="resetExpanded",f.toggleRowExpanded="toggleRowExpanded",f.toggleAllRowsExpanded="toggleAllRowsExpanded";var We=function(e){e.getToggleAllRowsExpandedProps=[Ct],e.getToggleRowExpandedProps=[Qe],e.stateReducers.push(et),e.useInstance.push(Jt),e.prepareRow.push(Et)};We.pluginName="useExpanded";var Ct=function(e,t){var n=t.instance;return[e,{onClick:function(r){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},Qe=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function et(e,t,n,r){if(t.type===f.init)return d({expanded:{}},e);if(t.type===f.resetExpanded)return d({},e,{expanded:r.initialState.expanded||{}});if(t.type===f.toggleAllRowsExpanded){var l=t.value,i=r.rowsById,a=Object.keys(i).length===Object.keys(e.expanded).length;if(l!==void 0?l:!a){var m={};return Object.keys(i).forEach(function(C){m[C]=!0}),d({},e,{expanded:m})}return d({},e,{expanded:{}})}if(t.type===f.toggleRowExpanded){var h,R=t.id,E=t.value,b=e.expanded[R],S=E!==void 0?E:!b;if(!b&&S)return d({},e,{expanded:d({},e.expanded,(h={},h[R]=!0,h))});if(b&&!S){var y=e.expanded;return y[R],d({},e,{expanded:w(y,[R].map(B))})}return e}}function Jt(e){var t=e.data,n=e.rows,r=e.rowsById,l=e.manualExpandedKey,i=l===void 0?"expanded":l,a=e.paginateExpandedRows,m=a===void 0||a,h=e.expandSubRows,R=h===void 0||h,E=e.autoResetExpanded,b=E===void 0||E,S=e.getHooks,y=e.plugins,C=e.state.expanded,z=e.dispatch;ue(y,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var k=Z(b),H=!!(Object.keys(r).length&&Object.keys(C).length);H&&Object.keys(r).some(function(q){return!C[q]})&&(H=!1),se(function(){k()&&z({type:f.resetExpanded})},[z,t]);var U=u.useCallback(function(q,L){z({type:f.toggleRowExpanded,id:q,value:L})},[z]),T=u.useCallback(function(q){return z({type:f.toggleAllRowsExpanded,value:q})},[z]),x=u.useMemo(function(){return m?Xe(n,{manualExpandedKey:i,expanded:C,expandSubRows:R}):n},[m,n,i,C,R]),j=u.useMemo(function(){return function(q){var L=0;return Object.keys(q).forEach(function(M){var ee=M.split(".");L=Math.max(L,ee.length)}),L}(C)},[C]),P=Z(e),D=N(S().getToggleAllRowsExpandedProps,{instance:P()});Object.assign(e,{preExpandedRows:n,expandedRows:x,rows:x,expandedDepth:j,isAllRowsExpanded:H,toggleRowExpanded:U,toggleAllRowsExpanded:T,getToggleAllRowsExpandedProps:D})}function Et(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(l){return r.toggleRowExpanded(e.id,l)},e.getToggleRowExpandedProps=N(n().getToggleRowExpandedProps,{instance:r,row:e})}var at=function(e,t,n){return e=e.filter(function(r){return t.some(function(l){var i=r.values[l];return String(i).toLowerCase().includes(String(n).toLowerCase())})})};at.autoRemove=function(e){return!e};var xt=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return i===void 0||String(i).toLowerCase()===String(n).toLowerCase()})})};xt.autoRemove=function(e){return!e};var tt=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return i===void 0||String(i)===String(n)})})};tt.autoRemove=function(e){return!e};var ct=function(e,t,n){return e.filter(function(r){return t.some(function(l){return r.values[l].includes(n)})})};ct.autoRemove=function(e){return!e||!e.length};var je=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return i&&i.length&&n.every(function(a){return i.includes(a)})})})};je.autoRemove=function(e){return!e||!e.length};var dt=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return i&&i.length&&n.some(function(a){return i.includes(a)})})})};dt.autoRemove=function(e){return!e||!e.length};var nt=function(e,t,n){return e.filter(function(r){return t.some(function(l){var i=r.values[l];return n.includes(i)})})};nt.autoRemove=function(e){return!e||!e.length};var It=function(e,t,n){return e.filter(function(r){return t.some(function(l){return r.values[l]===n})})};It.autoRemove=function(e){return e===void 0};var Fe=function(e,t,n){return e.filter(function(r){return t.some(function(l){return r.values[l]==n})})};Fe.autoRemove=function(e){return e==null};var zt=function(e,t,n){var r=n||[],l=r[0],i=r[1];if((l=typeof l=="number"?l:-1/0)>(i=typeof i=="number"?i:1/0)){var a=l;l=i,i=a}return e.filter(function(m){return t.some(function(h){var R=m.values[h];return R>=l&&R<=i})})};zt.autoRemove=function(e){return!e||typeof e[0]!="number"&&typeof e[1]!="number"};var Ne=Object.freeze({__proto__:null,text:at,exactText:xt,exactTextCase:tt,includes:ct,includesAll:je,includesSome:dt,includesValue:nt,exact:It,equals:Fe,between:zt});f.resetFilters="resetFilters",f.setFilter="setFilter",f.setAllFilters="setAllFilters";var Le=function(e){e.stateReducers.push(kt),e.useInstance.push(Yt)};function kt(e,t,n,r){if(t.type===f.init)return d({filters:[]},e);if(t.type===f.resetFilters)return d({},e,{filters:r.initialState.filters||[]});if(t.type===f.setFilter){var l=t.columnId,i=t.filterValue,a=r.allColumns,m=r.filterTypes,h=a.find(function(z){return z.id===l});if(!h)throw new Error("React-Table: Could not find a column with id: "+l);var R=Ge(h.filter,m||{},Ne),E=e.filters.find(function(z){return z.id===l}),b=ge(i,E&&E.value);return it(R.autoRemove,b,h)?d({},e,{filters:e.filters.filter(function(z){return z.id!==l})}):d({},e,E?{filters:e.filters.map(function(z){return z.id===l?{id:l,value:b}:z})}:{filters:[].concat(e.filters,[{id:l,value:b}])})}if(t.type===f.setAllFilters){var S=t.filters,y=r.allColumns,C=r.filterTypes;return d({},e,{filters:ge(S,e.filters).filter(function(z){var k=y.find(function(H){return H.id===z.id});return!it(Ge(k.filter,C||{},Ne).autoRemove,z.value,k)})})}}function Yt(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.rowsById,i=e.allColumns,a=e.filterTypes,m=e.manualFilters,h=e.defaultCanFilter,R=h!==void 0&&h,E=e.disableFilters,b=e.state.filters,S=e.dispatch,y=e.autoResetFilters,C=y===void 0||y,z=u.useCallback(function(P,D){S({type:f.setFilter,columnId:P,filterValue:D})},[S]),k=u.useCallback(function(P){S({type:f.setAllFilters,filters:P})},[S]);i.forEach(function(P){var D=P.id,q=P.accessor,L=P.defaultCanFilter,M=P.disableFilters;P.canFilter=q?Se(M!==!0&&void 0,E!==!0&&void 0,!0):Se(L,R,!1),P.setFilter=function(V){return z(P.id,V)};var ee=b.find(function(V){return V.id===D});P.filterValue=ee&&ee.value});var H=u.useMemo(function(){if(m||!b.length)return[n,r,l];var P=[],D={};return[function q(L,M){M===void 0&&(M=0);var ee=L;return(ee=b.reduce(function(V,Q){var Y=Q.id,ne=Q.value,G=i.find(function(ae){return ae.id===Y});if(!G)return V;M===0&&(G.preFilteredRows=V);var J=Ge(G.filter,a||{},Ne);return J?(G.filteredRows=J(V,[Y],ne),G.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+G.id+"."),V)},L)).forEach(function(V){P.push(V),D[V.id]=V,V.subRows&&(V.subRows=V.subRows&&V.subRows.length>0?q(V.subRows,M+1):V.subRows)}),ee}(n),P,D]},[m,b,n,r,l,i,a]),U=H[0],T=H[1],x=H[2];u.useMemo(function(){i.filter(function(P){return!b.find(function(D){return D.id===P.id})}).forEach(function(P){P.preFilteredRows=U,P.filteredRows=U})},[U,b,i]);var j=Z(C);se(function(){j()&&S({type:f.resetFilters})},[S,m?null:t]),Object.assign(e,{preFilteredRows:n,preFilteredFlatRows:r,preFilteredRowsById:l,filteredRows:U,filteredFlatRows:T,filteredRowsById:x,rows:U,flatRows:T,rowsById:x,setFilter:z,setAllFilters:k})}Le.pluginName="useFilters",f.resetGlobalFilter="resetGlobalFilter",f.setGlobalFilter="setGlobalFilter";var Bt=function(e){e.stateReducers.push(ft),e.useInstance.push(Zt)};function ft(e,t,n,r){if(t.type===f.resetGlobalFilter)return d({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===f.setGlobalFilter){var l=t.filterValue,i=r.userFilterTypes,a=Ge(r.globalFilter,i||{},Ne),m=ge(l,e.globalFilter);return it(a.autoRemove,m)?(e.globalFilter,w(e,["globalFilter"])):d({},e,{globalFilter:m})}}function Zt(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.rowsById,i=e.allColumns,a=e.filterTypes,m=e.globalFilter,h=e.manualGlobalFilter,R=e.state.globalFilter,E=e.dispatch,b=e.autoResetGlobalFilter,S=b===void 0||b,y=e.disableGlobalFilter,C=u.useCallback(function(x){E({type:f.setGlobalFilter,filterValue:x})},[E]),z=u.useMemo(function(){if(h||R===void 0)return[n,r,l];var x=[],j={},P=Ge(m,a||{},Ne);if(!P)return console.warn("Could not find a valid 'globalFilter' option."),n;i.forEach(function(q){var L=q.disableGlobalFilter;q.canFilter=Se(L!==!0&&void 0,y!==!0&&void 0,!0)});var D=i.filter(function(q){return q.canFilter===!0});return[function q(L){return(L=P(L,D.map(function(M){return M.id}),R)).forEach(function(M){x.push(M),j[M.id]=M,M.subRows=M.subRows&&M.subRows.length?q(M.subRows):M.subRows}),L}(n),x,j]},[h,R,m,a,i,n,r,l,y]),k=z[0],H=z[1],U=z[2],T=Z(S);se(function(){T()&&E({type:f.resetGlobalFilter})},[E,h?null:t]),Object.assign(e,{preGlobalFilteredRows:n,preGlobalFilteredFlatRows:r,preGlobalFilteredRowsById:l,globalFilteredRows:k,globalFilteredFlatRows:H,globalFilteredRowsById:U,rows:k,flatRows:H,rowsById:U,setGlobalFilter:C,disableGlobalFilter:y})}function gt(e,t){return t.reduce(function(n,r){return n+(typeof r=="number"?r:0)},0)}Bt.pluginName="useGlobalFilter";var rt=Object.freeze({__proto__:null,sum:gt,min:function(e){var t=e[0]||0;return e.forEach(function(n){typeof n=="number"&&(t=Math.min(t,n))}),t},max:function(e){var t=e[0]||0;return e.forEach(function(n){typeof n=="number"&&(t=Math.max(t,n))}),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach(function(r){typeof r=="number"&&(t=Math.min(t,r),n=Math.max(n,r))}),t+".."+n},average:function(e){return gt(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort(function(r,l){return r-l});return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),I=[],X={};f.resetGroupBy="resetGroupBy",f.setGroupBy="setGroupBy",f.toggleGroupBy="toggleGroupBy";var _=function(e){e.getGroupByToggleProps=[ye],e.stateReducers.push(pt),e.visibleColumnsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.groupBy])}),e.visibleColumns.push(Qt),e.useInstance.push(Ft),e.prepareRow.push(Ee)};_.pluginName="useGroupBy";var ye=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(r){r.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function pt(e,t,n,r){if(t.type===f.init)return d({groupBy:[]},e);if(t.type===f.resetGroupBy)return d({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===f.setGroupBy)return d({},e,{groupBy:t.value});if(t.type===f.toggleGroupBy){var l=t.columnId,i=t.value,a=i!==void 0?i:!e.groupBy.includes(l);return d({},e,a?{groupBy:[].concat(e.groupBy,[l])}:{groupBy:e.groupBy.filter(function(m){return m!==l})})}}function Qt(e,t){var n=t.instance.state.groupBy,r=n.map(function(i){return e.find(function(a){return a.id===i})}).filter(Boolean),l=e.filter(function(i){return!n.includes(i.id)});return(e=[].concat(r,l)).forEach(function(i){i.isGrouped=n.includes(i.id),i.groupedIndex=n.indexOf(i.id)}),e}var Pt={};function Ft(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.rowsById,i=e.allColumns,a=e.flatHeaders,m=e.groupByFn,h=m===void 0?hn:m,R=e.manualGroupBy,E=e.aggregations,b=E===void 0?Pt:E,S=e.plugins,y=e.state.groupBy,C=e.dispatch,z=e.autoResetGroupBy,k=z===void 0||z,H=e.disableGroupBy,U=e.defaultCanGroupBy,T=e.getHooks;ue(S,["useColumnOrder","useFilters"],"useGroupBy");var x=Z(e);i.forEach(function(G){var J=G.accessor,ae=G.defaultGroupBy,he=G.disableGroupBy;G.canGroupBy=J?Se(G.canGroupBy,he!==!0&&void 0,H!==!0&&void 0,!0):Se(G.canGroupBy,ae,U,!1),G.canGroupBy&&(G.toggleGroupBy=function(){return e.toggleGroupBy(G.id)}),G.Aggregated=G.Aggregated||G.Cell});var j=u.useCallback(function(G,J){C({type:f.toggleGroupBy,columnId:G,value:J})},[C]),P=u.useCallback(function(G){C({type:f.setGroupBy,value:G})},[C]);a.forEach(function(G){G.getGroupByToggleProps=N(T().getGroupByToggleProps,{instance:x(),header:G})});var D=u.useMemo(function(){if(R||!y.length)return[n,r,l,I,X,r,l];var G=y.filter(function(pe){return i.find(function(Oe){return Oe.id===pe})}),J=[],ae={},he=[],O={},le=[],de={},ve=function pe(Oe,Te,Hn){if(Te===void 0&&(Te=0),Te===G.length)return Oe.map(function(Tt){return d({},Tt,{depth:Te})});var ln=G[Te],so=h(Oe,ln);return Object.entries(so).map(function(Tt,lo){var Gn=Tt[0],Ht=Tt[1],Gt=ln+":"+Gn,An=pe(Ht,Te+1,Gt=Hn?Hn+">"+Gt:Gt),Nn=Te?_e(Ht,"leafRows"):Ht,uo=function(ze,un,co){var At={};return i.forEach(function(fe){if(G.includes(fe.id))At[fe.id]=un[0]?un[0].values[fe.id]:null;else{var Ln=typeof fe.aggregate=="function"?fe.aggregate:b[fe.aggregate]||rt[fe.aggregate];if(Ln){var fo=un.map(function(Nt){return Nt.values[fe.id]}),go=ze.map(function(Nt){var an=Nt.values[fe.id];if(!co&&fe.aggregateValue){var On=typeof fe.aggregateValue=="function"?fe.aggregateValue:b[fe.aggregateValue]||rt[fe.aggregateValue];if(!On)throw console.info({column:fe}),new Error("React Table: Invalid column.aggregateValue option for column listed above");an=On(an,Nt,fe)}return an});At[fe.id]=Ln(go,fo)}else{if(fe.aggregate)throw console.info({column:fe}),new Error("React Table: Invalid column.aggregate option for column listed above");At[fe.id]=null}}}),At}(Nn,Ht,Te),ao={id:Gt,isGrouped:!0,groupByID:ln,groupByVal:Gn,values:uo,subRows:An,leafRows:Nn,depth:Te,index:lo};return An.forEach(function(ze){J.push(ze),ae[ze.id]=ze,ze.isGrouped?(he.push(ze),O[ze.id]=ze):(le.push(ze),de[ze.id]=ze)}),ao})}(n);return ve.forEach(function(pe){J.push(pe),ae[pe.id]=pe,pe.isGrouped?(he.push(pe),O[pe.id]=pe):(le.push(pe),de[pe.id]=pe)}),[ve,J,ae,he,O,le,de]},[R,y,n,r,l,i,b,h]),q=D[0],L=D[1],M=D[2],ee=D[3],V=D[4],Q=D[5],Y=D[6],ne=Z(k);se(function(){ne()&&C({type:f.resetGroupBy})},[C,R?null:t]),Object.assign(e,{preGroupedRows:n,preGroupedFlatRow:r,preGroupedRowsById:l,groupedRows:q,groupedFlatRows:L,groupedRowsById:M,onlyGroupedFlatRows:ee,onlyGroupedRowsById:V,nonGroupedFlatRows:Q,nonGroupedRowsById:Y,rows:q,flatRows:L,rowsById:M,toggleGroupBy:j,setGroupBy:P})}function Ee(e){e.allCells.forEach(function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&((n=e.subRows)==null?void 0:n.length)})}function hn(e,t){return e.reduce(function(n,r,l){var i=""+r.values[t];return n[i]=Array.isArray(n[i])?n[i]:[],n[i].push(r),n},{})}var vn=/([0-9]+)/gm;function en(e,t){return e===t?0:e>t?1:-1}function mt(e,t,n){return[e.values[n],t.values[n]]}function Rn(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}var yr=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=mt(e,t,n),l=r[0],i=r[1];for(l=Rn(l),i=Rn(i),l=l.split(vn).filter(Boolean),i=i.split(vn).filter(Boolean);l.length&&i.length;){var a=l.shift(),m=i.shift(),h=parseInt(a,10),R=parseInt(m,10),E=[h,R].sort();if(isNaN(E[0])){if(a>m)return 1;if(m>a)return-1}else{if(isNaN(E[1]))return isNaN(h)?-1:1;if(h>R)return 1;if(R>h)return-1}}return l.length-i.length},datetime:function(e,t,n){var r=mt(e,t,n),l=r[0],i=r[1];return en(l=l.getTime(),i=i.getTime())},basic:function(e,t,n){var r=mt(e,t,n);return en(r[0],r[1])},string:function(e,t,n){var r=mt(e,t,n),l=r[0],i=r[1];for(l=l.split("").filter(Boolean),i=i.split("").filter(Boolean);l.length&&i.length;){var a=l.shift(),m=i.shift(),h=a.toLowerCase(),R=m.toLowerCase();if(h>R)return 1;if(R>h)return-1;if(a>m)return 1;if(m>a)return-1}return l.length-i.length},number:function(e,t,n){var r=mt(e,t,n),l=r[0],i=r[1],a=/[^0-9.]/gi;return en(l=Number(String(l).replace(a,"")),i=Number(String(i).replace(a,"")))}});f.resetSortBy="resetSortBy",f.setSortBy="setSortBy",f.toggleSortBy="toggleSortBy",f.clearSortBy="clearSortBy",A.sortType="alphanumeric",A.sortDescFirst=!1;var yn=function(e){e.getSortByToggleProps=[wr],e.stateReducers.push(br),e.useInstance.push(Sr)};yn.pluginName="useSortBy";var wr=function(e,t){var n=t.instance,r=t.column,l=n.isMultiSortEvent,i=l===void 0?function(a){return a.shiftKey}:l;return[e,{onClick:r.canSort?function(a){a.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&i(a))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function br(e,t,n,r){if(t.type===f.init)return d({sortBy:[]},e);if(t.type===f.resetSortBy)return d({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===f.clearSortBy)return d({},e,{sortBy:e.sortBy.filter(function(x){return x.id!==t.columnId})});if(t.type===f.setSortBy)return d({},e,{sortBy:t.sortBy});if(t.type===f.toggleSortBy){var l,i=t.columnId,a=t.desc,m=t.multi,h=r.allColumns,R=r.disableMultiSort,E=r.disableSortRemove,b=r.disableMultiRemove,S=r.maxMultiSortColCount,y=S===void 0?Number.MAX_SAFE_INTEGER:S,C=e.sortBy,z=h.find(function(x){return x.id===i}).sortDescFirst,k=C.find(function(x){return x.id===i}),H=C.findIndex(function(x){return x.id===i}),U=a!=null,T=[];return(l=!R&&m?k?"toggle":"add":H!==C.length-1||C.length!==1?"replace":k?"toggle":"replace")!="toggle"||E||U||m&&b||!(k&&k.desc&&!z||!k.desc&&z)||(l="remove"),l==="replace"?T=[{id:i,desc:U?a:z}]:l==="add"?(T=[].concat(C,[{id:i,desc:U?a:z}])).splice(0,T.length-y):l==="toggle"?T=C.map(function(x){return x.id===i?d({},x,{desc:U?a:!k.desc}):x}):l==="remove"&&(T=C.filter(function(x){return x.id!==i})),d({},e,{sortBy:T})}}function Sr(e){var t=e.data,n=e.rows,r=e.flatRows,l=e.allColumns,i=e.orderByFn,a=i===void 0?wn:i,m=e.sortTypes,h=e.manualSortBy,R=e.defaultCanSort,E=e.disableSortBy,b=e.flatHeaders,S=e.state.sortBy,y=e.dispatch,C=e.plugins,z=e.getHooks,k=e.autoResetSortBy,H=k===void 0||k;ue(C,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var U=u.useCallback(function(L){y({type:f.setSortBy,sortBy:L})},[y]),T=u.useCallback(function(L,M,ee){y({type:f.toggleSortBy,columnId:L,desc:M,multi:ee})},[y]),x=Z(e);b.forEach(function(L){var M=L.accessor,ee=L.canSort,V=L.disableSortBy,Q=L.id,Y=M?Se(V!==!0&&void 0,E!==!0&&void 0,!0):Se(R,ee,!1);L.canSort=Y,L.canSort&&(L.toggleSortBy=function(G,J){return T(L.id,G,J)},L.clearSortBy=function(){y({type:f.clearSortBy,columnId:L.id})}),L.getSortByToggleProps=N(z().getSortByToggleProps,{instance:x(),column:L});var ne=S.find(function(G){return G.id===Q});L.isSorted=!!ne,L.sortedIndex=S.findIndex(function(G){return G.id===Q}),L.isSortedDesc=L.isSorted?ne.desc:void 0});var j=u.useMemo(function(){if(h||!S.length)return[n,r];var L=[],M=S.filter(function(ee){return l.find(function(V){return V.id===ee.id})});return[function ee(V){var Q=a(V,M.map(function(Y){var ne=l.find(function(ae){return ae.id===Y.id});if(!ne)throw new Error("React-Table: Could not find a column with id: "+Y.id+" while sorting");var G=ne.sortType,J=De(G)||(m||{})[G]||yr[G];if(!J)throw new Error("React-Table: Could not find a valid sortType of '"+G+"' for column '"+Y.id+"'.");return function(ae,he){return J(ae,he,Y.id,Y.desc)}}),M.map(function(Y){var ne=l.find(function(G){return G.id===Y.id});return ne&&ne.sortInverted?Y.desc:!Y.desc}));return Q.forEach(function(Y){L.push(Y),Y.subRows&&Y.subRows.length!==0&&(Y.subRows=ee(Y.subRows))}),Q}(n),L]},[h,S,n,r,l,a,m]),P=j[0],D=j[1],q=Z(H);se(function(){q()&&y({type:f.resetSortBy})},[h?null:t]),Object.assign(e,{preSortedRows:n,preSortedFlatRows:r,sortedRows:P,sortedFlatRows:D,rows:P,flatRows:D,setSortBy:U,toggleSortBy:T})}function wn(e,t,n){return[].concat(e).sort(function(r,l){for(var i=0;i<t.length;i+=1){var a=t[i],m=n[i]===!1||n[i]==="desc",h=a(r,l);if(h!==0)return m?-h:h}return n[0]?r.index-l.index:l.index-r.index})}f.resetPage="resetPage",f.gotoPage="gotoPage",f.setPageSize="setPageSize";var bn=function(e){e.stateReducers.push(Cr),e.useInstance.push(Er)};function Cr(e,t,n,r){if(t.type===f.init)return d({pageSize:10,pageIndex:0},e);if(t.type===f.resetPage)return d({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===f.gotoPage){var l=r.pageCount,i=r.page,a=ge(t.pageIndex,e.pageIndex),m=!1;return a>e.pageIndex?m=l===-1?i.length>=e.pageSize:a<l:a<e.pageIndex&&(m=a>-1),m?d({},e,{pageIndex:a}):e}if(t.type===f.setPageSize){var h=t.pageSize,R=e.pageSize*e.pageIndex;return d({},e,{pageIndex:Math.floor(R/h),pageSize:h})}}function Er(e){var t=e.rows,n=e.autoResetPage,r=n===void 0||n,l=e.manualExpandedKey,i=l===void 0?"expanded":l,a=e.plugins,m=e.pageCount,h=e.paginateExpandedRows,R=h===void 0||h,E=e.expandSubRows,b=E===void 0||E,S=e.state,y=S.pageSize,C=S.pageIndex,z=S.expanded,k=S.globalFilter,H=S.filters,U=S.groupBy,T=S.sortBy,x=e.dispatch,j=e.data,P=e.manualPagination;ue(a,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var D=Z(r);se(function(){D()&&x({type:f.resetPage})},[x,P?null:j,k,H,U,T]);var q=P?m:Math.ceil(t.length/y),L=u.useMemo(function(){return q>0?[].concat(new Array(q)).fill(null).map(function(J,ae){return ae}):[]},[q]),M=u.useMemo(function(){var J;if(P)J=t;else{var ae=y*C,he=ae+y;J=t.slice(ae,he)}return R?J:Xe(J,{manualExpandedKey:i,expanded:z,expandSubRows:b})},[b,z,i,P,C,y,R,t]),ee=C>0,V=q===-1?M.length>=y:C<q-1,Q=u.useCallback(function(J){x({type:f.gotoPage,pageIndex:J})},[x]),Y=u.useCallback(function(){return Q(function(J){return J-1})},[Q]),ne=u.useCallback(function(){return Q(function(J){return J+1})},[Q]),G=u.useCallback(function(J){x({type:f.setPageSize,pageSize:J})},[x]);Object.assign(e,{pageOptions:L,pageCount:q,page:M,canPreviousPage:ee,canNextPage:V,gotoPage:Q,previousPage:Y,nextPage:ne,setPageSize:G})}bn.pluginName="usePagination",f.resetPivot="resetPivot",f.togglePivot="togglePivot";var Sn=function(e){e.getPivotToggleProps=[xr],e.stateReducers.push(Ir),e.useInstanceAfterData.push(zr),e.allColumns.push(kr),e.accessValue.push(Br),e.materializedColumns.push(Pr),e.materializedColumnsDeps.push(Fr),e.visibleColumns.push(Wr),e.visibleColumnsDeps.push(Tr),e.useInstance.push(Hr),e.prepareRow.push(Gr)};Sn.pluginName="usePivotColumns";var Cn=[],xr=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(r){r.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function Ir(e,t,n,r){if(t.type===f.init)return d({pivotColumns:Cn},e);if(t.type===f.resetPivot)return d({},e,{pivotColumns:r.initialState.pivotColumns||Cn});if(t.type===f.togglePivot){var l=t.columnId,i=t.value,a=i!==void 0?i:!e.pivotColumns.includes(l);return d({},e,a?{pivotColumns:[].concat(e.pivotColumns,[l])}:{pivotColumns:e.pivotColumns.filter(function(m){return m!==l})})}}function zr(e){e.allColumns.forEach(function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)})}function kr(e,t){var n=t.instance;return e.forEach(function(r){r.isPivotSource=n.state.pivotColumns.includes(r.id),r.uniqueValues=new Set}),e}function Br(e,t){var n=t.column;return n.uniqueValues&&e!==void 0&&n.uniqueValues.add(e),e}function Pr(e,t){var n=t.instance,r=n.allColumns,l=n.state;if(!l.pivotColumns.length||!l.groupBy||!l.groupBy.length)return e;var i=l.pivotColumns.map(function(h){return r.find(function(R){return R.id===h})}).filter(Boolean),a=r.filter(function(h){return!h.isPivotSource&&!l.groupBy.includes(h.id)&&!l.pivotColumns.includes(h.id)}),m=oe(function h(R,E,b){R===void 0&&(R=0),b===void 0&&(b=[]);var S=i[R];return S?Array.from(S.uniqueValues).sort().map(function(y){var C=d({},S,{Header:S.PivotHeader||typeof S.header=="string"?S.Header+": "+y:y,isPivotGroup:!0,parent:E,depth:R,id:E?E.id+"."+S.id+"."+y:S.id+"."+y,pivotValue:y});return C.columns=h(R+1,C,[].concat(b,[function(z){return z.values[S.id]===y}])),C}):a.map(function(y){return d({},y,{canPivot:!1,isPivoted:!0,parent:E,depth:R,id:""+(E?E.id+"."+y.id:y.id),accessor:function(C,z,k){if(b.every(function(H){return H(k)}))return k.values[y.id]}})})}());return[].concat(e,m)}function Fr(e,t){var n=t.instance.state,r=n.pivotColumns,l=n.groupBy;return[].concat(e,[r,l])}function Wr(e,t){var n=t.instance.state;return e=e.filter(function(r){return!r.isPivotSource}),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter(function(r){return r.isGrouped||r.isPivoted})),e}function Tr(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function Hr(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,l=e.getHooks,i=e.plugins,a=e.dispatch,m=e.autoResetPivot,h=m===void 0||m,R=e.manaulPivot,E=e.disablePivot,b=e.defaultCanPivot;ue(i,["useGroupBy"],"usePivotColumns");var S=Z(e);n.forEach(function(C){var z=C.accessor,k=C.defaultPivot,H=C.disablePivot;C.canPivot=z?Se(C.canPivot,H!==!0&&void 0,E!==!0&&void 0,!0):Se(C.canPivot,k,b,!1),C.canPivot&&(C.togglePivot=function(){return e.togglePivot(C.id)}),C.Aggregated=C.Aggregated||C.Cell}),r.forEach(function(C){C.getPivotToggleProps=N(l().getPivotToggleProps,{instance:S(),header:C})});var y=Z(h);se(function(){y()&&a({type:f.resetPivot})},[a,R?null:t]),Object.assign(e,{togglePivot:function(C,z){a({type:f.togglePivot,columnId:C,value:z})}})}function Gr(e){e.allCells.forEach(function(t){t.isPivoted=t.column.isPivoted})}f.resetSelectedRows="resetSelectedRows",f.toggleAllRowsSelected="toggleAllRowsSelected",f.toggleRowSelected="toggleRowSelected",f.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var En=function(e){e.getToggleRowSelectedProps=[Ar],e.getToggleAllRowsSelectedProps=[Nr],e.getToggleAllPageRowsSelectedProps=[Lr],e.stateReducers.push(Or),e.useInstance.push(Mr),e.prepareRow.push(Dr)};En.pluginName="useRowSelect";var Ar=function(e,t){var n=t.instance,r=t.row,l=n.manualRowSelectedKey,i=l===void 0?"isSelected":l;return[e,{onChange:function(a){r.toggleRowSelected(a.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[i])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},Nr=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleAllRowsSelected(r.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},Lr=function(e,t){var n=t.instance;return[e,{onChange:function(r){n.toggleAllPageRowsSelected(r.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!n.isAllPageRowsSelected&&n.page.some(function(r){var l=r.id;return n.state.selectedRowIds[l]}))}]};function Or(e,t,n,r){if(t.type===f.init)return d({selectedRowIds:{}},e);if(t.type===f.resetSelectedRows)return d({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===f.toggleAllRowsSelected){var l=t.value,i=r.isAllRowsSelected,a=r.rowsById,m=r.nonGroupedRowsById,h=m===void 0?a:m,R=l!==void 0?l:!i,E=Object.assign({},e.selectedRowIds);return R?Object.keys(h).forEach(function(Q){E[Q]=!0}):Object.keys(h).forEach(function(Q){delete E[Q]}),d({},e,{selectedRowIds:E})}if(t.type===f.toggleRowSelected){var b=t.id,S=t.value,y=r.rowsById,C=r.selectSubRows,z=C===void 0||C,k=r.getSubRows,H=e.selectedRowIds[b],U=S!==void 0?S:!H;if(H===U)return e;var T=d({},e.selectedRowIds);return function Q(Y){var ne=y[Y];if(ne&&(ne.isGrouped||(U?T[Y]=!0:delete T[Y]),z&&k(ne)))return k(ne).forEach(function(G){return Q(G.id)})}(b),d({},e,{selectedRowIds:T})}if(t.type===f.toggleAllPageRowsSelected){var x=t.value,j=r.page,P=r.rowsById,D=r.selectSubRows,q=D===void 0||D,L=r.isAllPageRowsSelected,M=r.getSubRows,ee=x!==void 0?x:!L,V=d({},e.selectedRowIds);return j.forEach(function(Q){return function Y(ne){var G=P[ne];if(G.isGrouped||(ee?V[ne]=!0:delete V[ne]),q&&M(G))return M(G).forEach(function(J){return Y(J.id)})}(Q.id)}),d({},e,{selectedRowIds:V})}return e}function Mr(e){var t=e.data,n=e.rows,r=e.getHooks,l=e.plugins,i=e.rowsById,a=e.nonGroupedRowsById,m=a===void 0?i:a,h=e.autoResetSelectedRows,R=h===void 0||h,E=e.state.selectedRowIds,b=e.selectSubRows,S=b===void 0||b,y=e.dispatch,C=e.page,z=e.getSubRows;ue(l,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var k=u.useMemo(function(){var M=[];return n.forEach(function(ee){var V=S?function Q(Y,ne,G){if(ne[Y.id])return!0;var J=G(Y);if(J&&J.length){var ae=!0,he=!1;return J.forEach(function(O){he&&!ae||(Q(O,ne,G)?he=!0:ae=!1)}),!!ae||!!he&&null}return!1}(ee,E,z):!!E[ee.id];ee.isSelected=!!V,ee.isSomeSelected=V===null,V&&M.push(ee)}),M},[n,S,E,z]),H=!!(Object.keys(m).length&&Object.keys(E).length),U=H;H&&Object.keys(m).some(function(M){return!E[M]})&&(H=!1),H||C&&C.length&&C.some(function(M){var ee=M.id;return!E[ee]})&&(U=!1);var T=Z(R);se(function(){T()&&y({type:f.resetSelectedRows})},[y,t]);var x=u.useCallback(function(M){return y({type:f.toggleAllRowsSelected,value:M})},[y]),j=u.useCallback(function(M){return y({type:f.toggleAllPageRowsSelected,value:M})},[y]),P=u.useCallback(function(M,ee){return y({type:f.toggleRowSelected,id:M,value:ee})},[y]),D=Z(e),q=N(r().getToggleAllRowsSelectedProps,{instance:D()}),L=N(r().getToggleAllPageRowsSelectedProps,{instance:D()});Object.assign(e,{selectedFlatRows:k,isAllRowsSelected:H,isAllPageRowsSelected:U,toggleRowSelected:P,toggleAllRowsSelected:x,getToggleAllRowsSelectedProps:q,getToggleAllPageRowsSelectedProps:L,toggleAllPageRowsSelected:j})}function Dr(e,t){var n=t.instance;e.toggleRowSelected=function(r){return n.toggleRowSelected(e.id,r)},e.getToggleRowSelectedProps=N(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var xn=function(e){return{}},In=function(e){return{}};f.setRowState="setRowState",f.setCellState="setCellState",f.resetRowState="resetRowState";var zn=function(e){e.stateReducers.push(Vr),e.useInstance.push(jr),e.prepareRow.push(_r)};function Vr(e,t,n,r){var l=r.initialRowStateAccessor,i=l===void 0?xn:l,a=r.initialCellStateAccessor,m=a===void 0?In:a,h=r.rowsById;if(t.type===f.init)return d({rowState:{}},e);if(t.type===f.resetRowState)return d({},e,{rowState:r.initialState.rowState||{}});if(t.type===f.setRowState){var R,E=t.rowId,b=t.value,S=e.rowState[E]!==void 0?e.rowState[E]:i(h[E]);return d({},e,{rowState:d({},e.rowState,(R={},R[E]=ge(b,S),R))})}if(t.type===f.setCellState){var y,C,z,k,H,U=t.rowId,T=t.columnId,x=t.value,j=e.rowState[U]!==void 0?e.rowState[U]:i(h[U]),P=(j==null||(y=j.cellState)==null?void 0:y[T])!==void 0?j.cellState[T]:m((C=h[U])==null||(z=C.cells)==null?void 0:z.find(function(D){return D.column.id===T}));return d({},e,{rowState:d({},e.rowState,(H={},H[U]=d({},j,{cellState:d({},j.cellState||{},(k={},k[T]=ge(x,P),k))}),H))})}}function jr(e){var t=e.autoResetRowState,n=t===void 0||t,r=e.data,l=e.dispatch,i=u.useCallback(function(h,R){return l({type:f.setRowState,rowId:h,value:R})},[l]),a=u.useCallback(function(h,R,E){return l({type:f.setCellState,rowId:h,columnId:R,value:E})},[l]),m=Z(n);se(function(){m()&&l({type:f.resetRowState})},[r]),Object.assign(e,{setRowState:i,setCellState:a})}function _r(e,t){var n=t.instance,r=n.initialRowStateAccessor,l=r===void 0?xn:r,i=n.initialCellStateAccessor,a=i===void 0?In:i,m=n.state.rowState;e&&(e.state=m[e.id]!==void 0?m[e.id]:l(e),e.setState=function(h){return n.setRowState(e.id,h)},e.cells.forEach(function(h){e.state.cellState||(e.state.cellState={}),h.state=e.state.cellState[h.column.id]!==void 0?e.state.cellState[h.column.id]:a(h),h.setState=function(R){return n.setCellState(e.id,h.column.id,R)}}))}zn.pluginName="useRowState",f.resetColumnOrder="resetColumnOrder",f.setColumnOrder="setColumnOrder";var kn=function(e){e.stateReducers.push(Xr),e.visibleColumnsDeps.push(function(t,n){var r=n.instance;return[].concat(t,[r.state.columnOrder])}),e.visibleColumns.push($r),e.useInstance.push(Ur)};function Xr(e,t,n,r){return t.type===f.init?d({columnOrder:[]},e):t.type===f.resetColumnOrder?d({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===f.setColumnOrder?d({},e,{columnOrder:ge(t.columnOrder,e.columnOrder)}):void 0}function $r(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),l=[].concat(e),i=[],a=function(){var m=r.shift(),h=l.findIndex(function(R){return R.id===m});h>-1&&i.push(l.splice(h,1)[0])};l.length&&r.length;)a();return[].concat(i,l)}function Ur(e){var t=e.dispatch;e.setColumnOrder=u.useCallback(function(n){return t({type:f.setColumnOrder,columnOrder:n})},[t])}kn.pluginName="useColumnOrder",A.canResize=!0,f.columnStartResizing="columnStartResizing",f.columnResizing="columnResizing",f.columnDoneResizing="columnDoneResizing",f.resetResize="resetResize";var Bn=function(e){e.getResizerProps=[qr],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Kr),e.useInstance.push(Yr),e.useInstanceBeforeDimensions.push(Jr)},qr=function(e,t){var n=t.instance,r=t.header,l=n.dispatch,i=function(a,m){var h=!1;if(a.type==="touchstart"){if(a.touches&&a.touches.length>1)return;h=!0}var R,E,b=function(T){var x=[];return function j(P){P.columns&&P.columns.length&&P.columns.map(j),x.push(P)}(T),x}(m).map(function(T){return[T.id,T.totalWidth]}),S=h?Math.round(a.touches[0].clientX):a.clientX,y=function(){window.cancelAnimationFrame(R),R=null,l({type:f.columnDoneResizing})},C=function(){window.cancelAnimationFrame(R),R=null,l({type:f.columnResizing,clientX:E})},z=function(T){E=T,R||(R=window.requestAnimationFrame(C))},k={mouse:{moveEvent:"mousemove",moveHandler:function(T){return z(T.clientX)},upEvent:"mouseup",upHandler:function(T){document.removeEventListener("mousemove",k.mouse.moveHandler),document.removeEventListener("mouseup",k.mouse.upHandler),y()}},touch:{moveEvent:"touchmove",moveHandler:function(T){return T.cancelable&&(T.preventDefault(),T.stopPropagation()),z(T.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(T){document.removeEventListener(k.touch.moveEvent,k.touch.moveHandler),document.removeEventListener(k.touch.upEvent,k.touch.moveHandler),y()}}},H=h?k.touch:k.mouse,U=!!function(){if(typeof $e=="boolean")return $e;var T=!1;try{var x={get passive(){return T=!0,!1}};window.addEventListener("test",null,x),window.removeEventListener("test",null,x)}catch{T=!1}return $e=T}()&&{passive:!1};document.addEventListener(H.moveEvent,H.moveHandler,U),document.addEventListener(H.upEvent,H.upHandler,U),l({type:f.columnStartResizing,columnId:m.id,columnWidth:m.totalWidth,headerIdWidths:b,clientX:S})};return[e,{onMouseDown:function(a){return a.persist()||i(a,r)},onTouchStart:function(a){return a.persist()||i(a,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Kr(e,t){if(t.type===f.init)return d({columnResizing:{columnWidths:{}}},e);if(t.type===f.resetResize)return d({},e,{columnResizing:{columnWidths:{}}});if(t.type===f.columnStartResizing){var n=t.clientX,r=t.columnId,l=t.columnWidth,i=t.headerIdWidths;return d({},e,{columnResizing:d({},e.columnResizing,{startX:n,headerIdWidths:i,columnWidth:l,isResizingColumn:r})})}if(t.type===f.columnResizing){var a=t.clientX,m=e.columnResizing,h=m.startX,R=m.columnWidth,E=m.headerIdWidths,b=(a-h)/R,S={};return(E===void 0?[]:E).forEach(function(y){var C=y[0],z=y[1];S[C]=Math.max(z+z*b,0)}),d({},e,{columnResizing:d({},e.columnResizing,{columnWidths:d({},e.columnResizing.columnWidths,{},S)})})}return t.type===f.columnDoneResizing?d({},e,{columnResizing:d({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Bn.pluginName="useResizeColumns";var Jr=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,l=e.state.columnResizing,i=Z(e);t.forEach(function(a){var m=Se(a.disableResizing!==!0&&void 0,n!==!0&&void 0,!0);a.canResize=m,a.width=l.columnWidths[a.id]||a.originalWidth||a.width,a.isResizing=l.isResizingColumn===a.id,m&&(a.getResizerProps=N(r().getResizerProps,{instance:i(),header:a}))})};function Yr(e){var t=e.plugins,n=e.dispatch,r=e.autoResetResize,l=r===void 0||r,i=e.columns;ue(t,["useAbsoluteLayout"],"useResizeColumns");var a=Z(l);se(function(){a()&&n({type:f.resetResize})},[i]);var m=u.useCallback(function(){return n({type:f.resetResize})},[n]);Object.assign(e,{resetResizing:m})}var tn={position:"absolute",top:0},Pn=function(e){e.getTableBodyProps.push(Wt),e.getRowProps.push(Wt),e.getHeaderGroupProps.push(Wt),e.getFooterGroupProps.push(Wt),e.getHeaderProps.push(function(t,n){var r=n.column;return[t,{style:d({},tn,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]}),e.getCellProps.push(function(t,n){var r=n.cell;return[t,{style:d({},tn,{left:r.column.totalLeft+"px",width:r.column.totalWidth+"px"})}]}),e.getFooterProps.push(function(t,n){var r=n.column;return[t,{style:d({},tn,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]})};Pn.pluginName="useAbsoluteLayout";var Wt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},nn={display:"inline-block",boxSizing:"border-box"},rn=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Fn=function(e){e.getRowProps.push(rn),e.getHeaderGroupProps.push(rn),e.getFooterGroupProps.push(rn),e.getHeaderProps.push(function(t,n){var r=n.column;return[t,{style:d({},nn,{width:r.totalWidth+"px"})}]}),e.getCellProps.push(function(t,n){var r=n.cell;return[t,{style:d({},nn,{width:r.column.totalWidth+"px"})}]}),e.getFooterProps.push(function(t,n){var r=n.column;return[t,{style:d({},nn,{width:r.totalWidth+"px"})}]})};function Wn(e){e.getTableProps.push(Zr),e.getRowProps.push(on),e.getHeaderGroupProps.push(on),e.getFooterGroupProps.push(on),e.getHeaderProps.push(Qr),e.getCellProps.push(eo),e.getFooterProps.push(to)}Fn.pluginName="useBlockLayout",Wn.pluginName="useFlexLayout";var Zr=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},on=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Qr=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},eo=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},to=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Tn(e){e.stateReducers.push(io),e.getTableProps.push(no),e.getHeaderProps.push(ro),e.getRowProps.push(oo)}f.columnStartResizing="columnStartResizing",f.columnResizing="columnResizing",f.columnDoneResizing="columnDoneResizing",f.resetResize="resetResize",Tn.pluginName="useGridLayout";var no=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map(function(r){var l;return n.state.gridLayout.columnWidths[r.id]?n.state.gridLayout.columnWidths[r.id]+"px":(l=n.state.columnResizing)!=null&&l.isResizingColumn?n.state.gridLayout.startWidths[r.id]+"px":typeof r.width=="number"?r.width+"px":r.width}).join(" ")}}]},ro=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},oo=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function io(e,t,n,r){if(t.type===f.init)return d({gridLayout:{columnWidths:{}}},e);if(t.type===f.resetResize)return d({},e,{gridLayout:{columnWidths:{}}});if(t.type===f.columnStartResizing){var l=t.columnId,i=t.headerIdWidths,a=sn(l);if(a!==void 0){var m=r.visibleColumns.reduce(function(x,j){var P;return d({},x,((P={})[j.id]=sn(j.id),P))},{}),h=r.visibleColumns.reduce(function(x,j){var P;return d({},x,((P={})[j.id]=j.minWidth,P))},{}),R=r.visibleColumns.reduce(function(x,j){var P;return d({},x,((P={})[j.id]=j.maxWidth,P))},{}),E=i.map(function(x){var j=x[0];return[j,sn(j)]});return d({},e,{gridLayout:d({},e.gridLayout,{startWidths:m,minWidths:h,maxWidths:R,headerIdGridWidths:E,columnWidth:a})})}return e}if(t.type===f.columnResizing){var b=t.clientX,S=e.columnResizing.startX,y=e.gridLayout,C=y.columnWidth,z=y.minWidths,k=y.maxWidths,H=y.headerIdGridWidths,U=(b-S)/C,T={};return(H===void 0?[]:H).forEach(function(x){var j=x[0],P=x[1];T[j]=Math.min(Math.max(z[j],P+P*U),k[j])}),d({},e,{gridLayout:d({},e.gridLayout,{columnWidths:d({},e.gridLayout.columnWidths,{},T)})})}return t.type===f.columnDoneResizing?d({},e,{gridLayout:d({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function sn(e){var t,n=(t=document.getElementById("header-cell-"+e))==null?void 0:t.offsetWidth;if(n!==void 0)return n}c._UNSTABLE_usePivotColumns=Sn,c.actions=f,c.defaultColumn=A,c.defaultGroupByFn=hn,c.defaultOrderByFn=wn,c.defaultRenderer=F,c.emptyRenderer=W,c.ensurePluginOrder=ue,c.flexRender=we,c.functionalUpdate=ge,c.loopHooks=ce,c.makePropGetter=N,c.makeRenderer=Be,c.reduceHooks=re,c.safeUseLayoutEffect=te,c.useAbsoluteLayout=Pn,c.useAsyncDebounce=function(e,t){t===void 0&&(t=0);var n=u.useRef({}),r=Z(e),l=Z(t);return u.useCallback(function(){var i=v(regeneratorRuntime.mark(function a(){var m,h,R,E=arguments;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:for(m=E.length,h=new Array(m),R=0;R<m;R++)h[R]=E[R];return n.current.promise||(n.current.promise=new Promise(function(S,y){n.current.resolve=S,n.current.reject=y})),n.current.timeout&&clearTimeout(n.current.timeout),n.current.timeout=setTimeout(v(regeneratorRuntime.mark(function S(){return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return delete n.current.timeout,y.prev=1,y.t0=n.current,y.next=5,r().apply(void 0,h);case 5:y.t1=y.sent,y.t0.resolve.call(y.t0,y.t1),y.next=12;break;case 9:y.prev=9,y.t2=y.catch(1),n.current.reject(y.t2);case 12:return y.prev=12,delete n.current.promise,y.finish(12);case 15:case"end":return y.stop()}},S,null,[[1,9,12,15]])})),l()),b.abrupt("return",n.current.promise);case 5:case"end":return b.stop()}},a)}));return function(){return i.apply(this,arguments)}}(),[r,l])},c.useBlockLayout=Fn,c.useColumnOrder=kn,c.useExpanded=We,c.useFilters=Le,c.useFlexLayout=Wn,c.useGetLatest=Z,c.useGlobalFilter=Bt,c.useGridLayout=Tn,c.useGroupBy=_,c.useMountedLayoutEffect=se,c.usePagination=bn,c.useResizeColumns=Bn,c.useRowSelect=En,c.useRowState=zn,c.useSortBy=yn,c.useTable=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=me(e),n=[Ye].concat(n);var l=u.useRef({}),i=Z(l.current);Object.assign(i(),d({},e,{plugins:n,hooks:st()})),n.filter(Boolean).forEach(function(O){O(i().hooks)});var a=Z(i().hooks);i().getHooks=a,delete i().hooks,Object.assign(i(),re(a().useOptions,me(e)));var m=i(),h=m.data,R=m.columns,E=m.initialState,b=m.defaultColumn,S=m.getSubRows,y=m.getRowId,C=m.stateReducer,z=m.useControlledState,k=Z(C),H=u.useCallback(function(O,le){if(!le.type)throw console.info({action:le}),new Error("Unknown Action 👆");return[].concat(a().stateReducers,Array.isArray(k())?k():[k()]).reduce(function(de,ve){return ve(de,le,O,i())||de},O)},[a,k,i]),U=u.useReducer(H,void 0,function(){return H(E,{type:f.init})}),T=U[0],x=U[1],j=re([].concat(a().useControlledState,[z]),T,{instance:i()});Object.assign(i(),{state:j,dispatch:x});var P=u.useMemo(function(){return He(re(a().columns,R,{instance:i()}))},[a,i,R].concat(re(a().columnsDeps,[],{instance:i()})));i().columns=P;var D=u.useMemo(function(){return re(a().allColumns,oe(P),{instance:i()}).map(be)},[P,a,i].concat(re(a().allColumnsDeps,[],{instance:i()})));i().allColumns=D;var q=u.useMemo(function(){for(var O=[],le=[],de={},ve=[].concat(D);ve.length;){var pe=ve.shift();Ie({data:h,rows:O,flatRows:le,rowsById:de,column:pe,getRowId:y,getSubRows:S,accessValueHooks:a().accessValue,getInstance:i})}return[O,le,de]},[D,h,y,S,a,i]),L=q[0],M=q[1],ee=q[2];Object.assign(i(),{rows:L,initialRows:[].concat(L),flatRows:M,rowsById:ee}),ce(a().useInstanceAfterData,i());var V=u.useMemo(function(){return re(a().visibleColumns,D,{instance:i()}).map(function(O){return ke(O,b)})},[a,D,i,b].concat(re(a().visibleColumnsDeps,[],{instance:i()})));D=u.useMemo(function(){var O=[].concat(V);return D.forEach(function(le){O.find(function(de){return de.id===le.id})||O.push(le)}),O},[D,V]),i().allColumns=D;var Q=u.useMemo(function(){return re(a().headerGroups,jt(V,b),i())},[a,V,b,i].concat(re(a().headerGroupsDeps,[],{instance:i()})));i().headerGroups=Q;var Y=u.useMemo(function(){return Q.length?Q[0].headers:[]},[Q]);i().headers=Y,i().flatHeaders=Q.reduce(function(O,le){return[].concat(O,le.headers)},[]),ce(a().useInstanceBeforeDimensions,i());var ne=V.filter(function(O){return O.isVisible}).map(function(O){return O.id}).sort().join("_");V=u.useMemo(function(){return V.filter(function(O){return O.isVisible})},[V,ne]),i().visibleColumns=V;var G=St(Y),J=G[0],ae=G[1],he=G[2];return i().totalColumnsMinWidth=J,i().totalColumnsWidth=ae,i().totalColumnsMaxWidth=he,ce(a().useInstance,i()),[].concat(i().flatHeaders,i().allColumns).forEach(function(O){O.render=Be(i(),O),O.getHeaderProps=N(a().getHeaderProps,{instance:i(),column:O}),O.getFooterProps=N(a().getFooterProps,{instance:i(),column:O})}),i().headerGroups=u.useMemo(function(){return Q.filter(function(O,le){return O.headers=O.headers.filter(function(de){return de.headers?function ve(pe){return pe.filter(function(Oe){return Oe.headers?ve(Oe.headers):Oe.isVisible}).length}(de.headers):de.isVisible}),!!O.headers.length&&(O.getHeaderGroupProps=N(a().getHeaderGroupProps,{instance:i(),headerGroup:O,index:le}),O.getFooterGroupProps=N(a().getFooterGroupProps,{instance:i(),headerGroup:O,index:le}),!0)})},[Q,i,a]),i().footerGroups=[].concat(i().headerGroups).reverse(),i().prepareRow=u.useCallback(function(O){O.getRowProps=N(a().getRowProps,{instance:i(),row:O}),O.allCells=D.map(function(le){var de=O.values[le.id],ve={column:le,row:O,value:de};return ve.getCellProps=N(a().getCellProps,{instance:i(),cell:ve}),ve.render=Be(i(),le,{row:O,cell:ve,value:de}),ve}),O.cells=V.map(function(le){return O.allCells.find(function(de){return de.column.id===le.id})}),ce(a().prepareRow,O,{instance:i()})},[a,i,D,V]),i().getTableProps=N(a().getTableProps,{instance:i()}),i().getTableBodyProps=N(a().getTableBodyProps,{instance:i()}),ce(a().useFinalInstance,i()),i()},Object.defineProperty(c,"__esModule",{value:!0})})})(cn,cn.exports);var zo=cn.exports;tr.exports=zo;var K=tr.exports;const nr=(o,s)=>{const c={};if(c.flex="1 1 145px",o.width){const u=typeof o.width=="string"?o.width:`${o.width}px`;c.width=u,s&&o.canResize?c.flex=`${Number(o.width)} ${Number(o.width)} ${u}`:c.flex=`0 0 ${u}`}return o.maxWidth&&(c.maxWidth=`${o.maxWidth}px`),o.minWidth&&(c.minWidth=`${o.minWidth}px`),c},rr=(o,s)=>{if(!o.sticky)return{};let c=0;for(const g of s){if(g.id===o.id)break;c+=Number(g.width||g.resizeWidth||0)}let u=0;for(const g of[...s].reverse()){if(g.id===o.id)break;u+=Number(g.width||g.resizeWidth||0)}return{"--iui-table-sticky-left":o.sticky==="left"?`${c}px`:void 0,"--iui-table-sticky-right":o.sticky==="right"?`${u}px`:void 0}},or=({density:o="default",depth:s=1})=>{let c=16,u=8;o==="condensed"?(c=12,u=4):o==="extra-condensed"&&(c=8,u=4);const g=26+u;return{paddingInlineStart:c+s*g}},ir=p.createContext([]),ko=o=>{const{cell:s,isDisabled:c,cellProps:u,expanderCell:g,density:v,...d}=o;return p.createElement(p.Fragment,null,g?g(u):p.createElement(gn,{"aria-label":"Toggle sub row","aria-expanded":s.row.isExpanded?"true":"false",style:{marginInlineEnd:v==="default"||v===void 0?8:4},className:"iui-table-row-expander",styleType:"borderless",size:"small",onClick:w=>{w.stopPropagation(),s.row.toggleRowExpanded()},disabled:c,...d},p.createElement(Qn,{style:{transform:s.row.isExpanded?"rotate(90deg)":void 0}})))},pn=o=>{const s=p.useContext(ir),c=p.useMemo(()=>{var ce;return(ce=s.find(({id:ue})=>o.cellProps.column.id===ue))==null?void 0:ce.hasOwnProperty("Cell")},[o.cellProps.column.id,s]),{cellElementProps:{className:u,style:g,...v},children:d,startIcon:w,endIcon:B,cellProps:f,isDisabled:F,className:W,style:A,status:$,clamp:N=typeof f.value=="string"&&!c,...re}=o;return p.createElement(ie,{...v,...re,className:xe(u,W),"aria-disabled":(F==null?void 0:F(f.row.original))||void 0,"data-iui-status":$,style:{...g,...A}},p.createElement(fn,null,p.createElement("slot",{name:"start"}),N?p.createElement(er,null,p.createElement("slot",null)):p.createElement("slot",null),p.createElement("slot",{name:"end"}),p.createElement("slot",{name:"shadows"})),w&&p.createElement(ie,{className:"iui-table-cell-start-icon",slot:"start"},w),d,B&&p.createElement(ie,{className:"iui-table-cell-end-icon",slot:"end"},B))},vt="iui-table-checkbox-selector",Bo=(o={})=>{const{isDisabled:s,density:c}=o,u=c==="condensed"?42:c==="extra-condensed"?34:48;return{id:vt,disableResizing:!0,disableGroupBy:!0,disableReordering:!0,minWidth:u,width:u,maxWidth:u,columnClassName:"iui-slot",cellClassName:"iui-slot",Header:({getToggleAllRowsSelectedProps:g,toggleAllRowsSelected:v,rows:d,preFilteredFlatRows:w,state:B})=>{const f=w.every(A=>s==null?void 0:s(A.original)),F=w.every(A=>B.selectedRowIds[A.id]||(s==null?void 0:s(A.original))),W=!F&&Object.keys(B.selectedRowIds).length>0;return p.createElement(Dn,{...g(),style:{},title:"",checked:F&&!f,indeterminate:W,disabled:f,onChange:()=>v(!d.some(A=>A.isSelected))})},Cell:({row:g})=>p.createElement(Dn,{...g.getToggleRowSelectedProps(),style:{},title:"",disabled:s==null?void 0:s(g.original),onClick:v=>v.stopPropagation()}),cellRenderer:g=>p.createElement(pn,{...g,isDisabled:v=>!!(s!=null&&s(v))})}},sr="iui-table-expander",Po=(o={})=>{const{subComponent:s,isDisabled:c}=o;return{id:sr,disableResizing:!0,disableGroupBy:!0,disableReordering:!0,minWidth:48,width:48,maxWidth:48,columnClassName:"iui-slot",cellClassName:"iui-slot",Cell:u=>{const{row:g}=u;return s!=null&&s(g)?p.createElement(gn,{className:"iui-table-row-expander",styleType:"borderless",size:"small",onClick:v=>{v.stopPropagation(),g.toggleRowExpanded()},disabled:c==null?void 0:c(u.row.original),"aria-expanded":g.isExpanded},p.createElement(Qn,null)):null},cellRenderer:u=>p.createElement(pn,{...u,isDisabled:g=>!!(c!=null&&c(g))})}},Fo=o=>{const{cell:s,cellIndex:c,isDisabled:u,tableHasSubRows:g,tableInstance:v,expanderCell:d,density:w}=o,B=c===s.row.cells.findIndex($=>$.column.id!==vt),f=s.getCellProps({className:xe("iui-table-cell",s.column.cellClassName,{"iui-table-cell-sticky":!!s.column.sticky}),style:{...nr(s.column,!!v.state.isTableResizing),...g&&B&&or({density:w,depth:s.row.depth+(s.row.canExpand?0:1)}),...rr(s.column,v.visibleColumns)}}),F={...v,cell:s,row:s.row,value:s.value,column:s.column},W=p.createElement(p.Fragment,null,g&&B&&s.row.canExpand&&p.createElement(ko,{cell:s,isDisabled:u,cellProps:F,expanderCell:d,density:w,slot:"start"}),s.render("Cell")),A={cellElementProps:f,cellProps:F,children:p.createElement(p.Fragment,null,W,s.column.sticky==="left"&&v.state.sticky.isScrolledToRight&&p.createElement(ie,{className:"iui-table-cell-shadow-right",slot:"shadows"}),s.column.sticky==="right"&&v.state.sticky.isScrolledToLeft&&p.createElement(ie,{className:"iui-table-cell-shadow-left",slot:"shadows"}))};return p.createElement(p.Fragment,null,s.column.cellRenderer?s.column.cellRenderer({...A,isDisabled:()=>u}):p.createElement(pn,{...A,isDisabled:()=>u}))},Wo=o=>{const{row:s,rowProps:c,isLast:u,onRowInViewport:g,onBottomReached:v,intersectionMargin:d,onClick:w,subComponent:B,isDisabled:f,tableHasSubRows:F,tableInstance:W,expanderCell:A,scrollContainerRef:$,tableRowRef:N,density:re}=o,ce=p.useCallback(()=>{var oe,be;(oe=g.current)==null||oe.call(g,s.original),u&&((be=v.current)==null||be.call(v))},[u,v,g,s.original]),ue=p.useMemo(()=>{if((($==null?void 0:$.scrollHeight)??0)>(($==null?void 0:$.offsetHeight)??0))return $},[$]),ge=Ro(ce,{rootMargin:`${d}px`,root:ue}),Z=(c==null?void 0:c(s))??{},{status:te,isLoading:se,...Be}=Z,we={...s.getRowProps({style:{flex:"0 0 auto",minWidth:"100%"}}),...Be,className:xe("iui-table-row",{"iui-table-row-expanded":s.isExpanded&&B,"iui-loading":se},Z==null?void 0:Z.className),"aria-selected":s.isSelected||void 0,"aria-disabled":f||void 0,"data-iui-status":te},He=Yn(ge,we.ref,N);return p.createElement(p.Fragment,null,p.createElement(ie,{...we,ref:He,onClick:oe=>{var be;(be=we==null?void 0:we.onClick)==null||be.call(we,oe),w==null||w(oe,s)}},s.cells.map((oe,be)=>p.createElement(Fo,{key:oe.getCellProps().key,cell:oe,cellIndex:be,isDisabled:f,tableHasSubRows:F,tableInstance:W,expanderCell:A,density:re}))),B&&p.createElement(yo,{in:s.isExpanded},p.createElement(ie,{className:xe("iui-table-row","iui-table-expanded-content"),"aria-disabled":f},B(s))))},dn=(o,s)=>s!=null&&s[o.id]?!0:o.subRows.some(c=>dn(c,s)),To=p.memo(Wo,(o,s)=>{var c,u,g,v,d,w,B;return o.isLast===s.isLast&&((c=o.state.hiddenColumns)==null?void 0:c.length)===((u=s.state.hiddenColumns)==null?void 0:u.length)&&!!((g=o.state.hiddenColumns)!=null&&g.every((f,F)=>{var W;return((W=s.state.hiddenColumns)==null?void 0:W[F])===f}))&&o.onRowInViewport===s.onRowInViewport&&o.onBottomReached===s.onBottomReached&&o.onClick===s.onClick&&o.row.original===s.row.original&&((v=o.state.selectedRowIds)==null?void 0:v[o.row.id])===((d=s.state.selectedRowIds)==null?void 0:d[s.row.id])&&o.row.subRows.some(f=>dn(f,o.state.selectedRowIds))===s.row.subRows.some(f=>dn(f,s.state.selectedRowIds))&&((w=o.state.expanded)==null?void 0:w[o.row.id])===((B=s.state.expanded)==null?void 0:B[s.row.id])&&o.subComponent===s.subComponent&&o.row.cells.every((f,F)=>s.row.cells[F].column===f.column)&&o.isDisabled===s.isDisabled&&o.rowProps===s.rowProps&&o.expanderCell===s.expanderCell&&o.tableHasSubRows===s.tableHasSubRows&&o.scrollContainerRef===s.scrollContainerRef&&o.state.columnOrder===s.state.columnOrder&&!s.state.columnResizing.isResizingColumn&&o.state.isTableResizing===s.state.isTableResizing&&o.state.sticky.isScrolledToLeft===s.state.sticky.isScrolledToLeft&&o.state.sticky.isScrolledToRight===s.state.sticky.isScrolledToRight&&o.density===s.density}),Ho=o=>{const{column:s,className:c,...u}=o;Zn();const[g,v]=p.useState(!1),d=p.useCallback(()=>v(!1),[]),w=p.useCallback(F=>{s.setFilter(F),d()},[d,s]),B=p.useCallback(()=>{s.setFilter(void 0),d()},[d,s]),f=s.filterValue!=null&&s.filterValue!=="";return p.createElement(p.Fragment,null,s.canFilter&&s.Filter&&p.createElement(bo,{content:s.render("Filter",{close:d,setFilter:w,clearFilter:B}),placement:"bottom-start",visible:g,onVisibleChange:v,closeOnOutsideClick:!0,applyBackground:!0},p.createElement(gn,{styleType:"borderless",isActive:g||f,className:xe("iui-table-filter-button",c),"aria-label":"Filter",onClick:F=>{F.stopPropagation()},"data-iui-shift":"left",...u},f?p.createElement(xo,null):p.createElement(Io,null))))},Mt=o=>!!o&&!isNaN(o.valueOf()),lr=(o,s,c)=>{const[u,g]=c||[],v=864e13,d=Mt(u)?u:new Date(-v),w=Mt(g)?g:new Date(v);return o.filter(B=>s.some(f=>{const F=B.values[f];return F.valueOf()>=d.valueOf()&&F.valueOf()<=w.valueOf()}))};lr.autoRemove=o=>!o||!Mt(o[0])&&!Mt(o[1]);const Go={betweenDate:lr},Ao=(o,s,c)=>u=>{o&&u.allColumns.push(g=>{if(g.find(w=>w.id===sr))return g;const d=Po({subComponent:o,isDisabled:c});return[{...d,Cell:s?w=>p.createElement(p.Fragment,null,s(w)):d.Cell},...g]})},No=(o,s,c,u="default")=>g=>{o&&g.allColumns.push(v=>s==="single"||v.find(d=>d.id===vt)?v:[Bo({isDisabled:c,density:u}),...v])},ur=(o,s,c)=>(o=o.filter(u=>s.some(g=>{const v=u.values[g];return String(v).toLowerCase().includes(String(c).toLowerCase())})),o);ur.autoRemove=o=>!o;const ar=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return v!==void 0?String(v).toLowerCase()===String(c).toLowerCase():!0}));ar.autoRemove=o=>!o;const cr=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return v!==void 0?String(v)===String(c):!0}));cr.autoRemove=o=>!o;const dr=(o,s,c)=>o.filter(u=>s.some(g=>u.values[g].includes(c)));dr.autoRemove=o=>!o||!o.length;const fr=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return v&&v.length&&c.every(d=>v.includes(d))}));fr.autoRemove=o=>!o||!o.length;const gr=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return v&&v.length&&c.some(d=>v.includes(d))}));gr.autoRemove=o=>!o||!o.length;const pr=(o,s,c)=>o.filter(u=>s.some(g=>{const v=u.values[g];return c.includes(v)}));pr.autoRemove=o=>!o||!o.length;const mr=(o,s,c)=>{let[u,g]=c||[];if(u=typeof u=="number"?u:-1/0,g=typeof g=="number"?g:1/0,u>g){const v=u;u=g,g=v}return o.filter(v=>s.some(d=>{const w=v.values[d];return w>=u&&w<=g}))};mr.autoRemove=o=>!o||typeof o[0]!="number"&&typeof o[1]!="number";const Lo={text:ur,exactText:ar,exactTextCase:cr,includes:dr,includesAll:fr,includesSome:gr,includesValue:pr,between:mr},Oo=o=>s=>{s.useInstance.push(Mo.bind({},o))},Mo=(o,s)=>{const c=d=>{d.forEach(w=>{w.initialSubRows||(w.initialSubRows=w.subRows),c(w.subRows)})};c(s.initialRows);const{filteredRows:u=s.filteredRows,filteredFlatRows:g=s.filteredFlatRows,filteredRowsById:v=s.filteredRowsById}=p.useMemo(()=>{if(!o)return{};const d=A=>{A.forEach($=>{$.subRows=$.initialSubRows??[],d($.subRows)})};d(s.initialRows);let w=[...s.initialRows];s.state.filters.forEach(({id:A,value:$})=>{const N=s.allColumns.find(ue=>ue.id===A);if(!N)return;const re={...Lo,...s.filterTypes},ce=typeof N.filter=="function"?N.filter:re[N.filter??"text"];w=w.filter(ue=>hr(ue,ce,A,$))});const B=[],f=[],F={},W=A=>{A.depth===0&&B.push(A),f.push(A),F[A.id]=A,A.subRows.length&&A.subRows.forEach($=>W($))};return w.forEach(A=>W(A)),{filteredRows:B,filteredFlatRows:f,filteredRowsById:F}},[s.allColumns,s.filterTypes,s.initialRows,s.state.filters,o]);Object.assign(s,{filteredRows:u,filteredFlatRows:g,filteredRowsById:v,rows:u,flatRows:g,rowsById:v})},hr=(o,s,c,u)=>{let g=!1;return o.subRows=o.initialSubRows.filter(d=>{const w=hr(d,s,c,u);return w&&(g=!0),w}),g?!0:!!s([o],[c],u).length},Do=o=>{o.useInstance.push(Vo)},Vo=o=>{const s=p.useMemo(()=>{const c=[],u=(g,v)=>{let d=!1;g.subRows.forEach(w=>{u(w,v),(w.isSelected||w.isSomeSelected)&&(d=!0)}),v[g.id]?(g.isSelected=!0,g.isSomeSelected=!1,c.push(g)):(g.isSelected=!1,g.isSomeSelected=d)};return o.rows.forEach(g=>u(g,o.state.selectedRowIds)),c},[o.rows,o.state.selectedRowIds]);Object.assign(o,{selectedFlatRows:s})},vr=o=>s=>{s.getResizerProps=[jo(o)],s.stateReducers.push(_o),s.useInstanceBeforeDimensions.push($o)},Ot=o=>o.type==="touchstart",jo=o=>(s,{instance:c,header:u,nextHeader:g})=>{const{dispatch:v}=c,d=(w,B)=>{var ue,ge,Z;if(Ot(w)&&w.touches&&w.touches.length>1)return;const f=Xn(B).map(te=>[te.id,ot(te)]),F=g?Xn(g).map(te=>[te.id,ot(te)]):[],W=Ot(w)?Math.round(w.touches[0].clientX):w.clientX,A=te=>v({type:K.actions.columnResizing,clientX:te}),$=()=>v({type:K.actions.columnDoneResizing}),N={mouse:{moveEvent:"mousemove",moveHandler:te=>A(te.clientX),upEvent:"mouseup",upHandler:()=>{var te,se,Be;(te=o.current)==null||te.removeEventListener("mousemove",N.mouse.moveHandler),(se=o.current)==null||se.removeEventListener("mouseup",N.mouse.upHandler),(Be=o.current)==null||Be.removeEventListener("mouseleave",N.mouse.upHandler),$()}},touch:{moveEvent:"touchmove",moveHandler:te=>{te.cancelable&&(te.preventDefault(),te.stopPropagation()),A(te.touches[0].clientX)},upEvent:"touchend",upHandler:()=>{var te,se;(te=o.current)==null||te.removeEventListener(N.touch.moveEvent,N.touch.moveHandler),(se=o.current)==null||se.removeEventListener(N.touch.upEvent,N.touch.moveHandler),$()}}},re=Ot(w)?N.touch:N.mouse,ce=Ko()?{passive:!1}:!1;(ue=o.current)==null||ue.addEventListener(re.moveEvent,re.moveHandler,ce),(ge=o.current)==null||ge.addEventListener(re.upEvent,re.upHandler,ce),Ot(w)||(Z=o.current)==null||Z.addEventListener("mouseleave",N.mouse.upHandler,ce),v({type:K.actions.columnStartResizing,columnId:B.id,columnWidth:ot(B),nextColumnWidth:ot(g),headerIdWidths:f,nextHeaderIdWidths:F,clientX:W})};return[s,{onClick:w=>{w.stopPropagation()},onMouseDown:w=>{w.persist(),w.preventDefault(),w.stopPropagation(),d(w,u)},onTouchStart:w=>{w.persist(),w.preventDefault(),d(w,u)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};vr.pluginName="useResizeColumns";const _o=(o,s,c,u)=>{if(s.type===K.actions.init)return{...o,columnResizing:{columnWidths:{}}};if(s.type===K.actions.resetResize)return{...o,columnResizing:{columnWidths:{}}};if(s.type===K.actions.columnStartResizing){const{clientX:g,columnId:v,columnWidth:d,nextColumnWidth:w,headerIdWidths:B,nextHeaderIdWidths:f}=s;return{...o,columnResizing:{...o.columnResizing,startX:g,columnWidth:d,nextColumnWidth:w,headerIdWidths:B,nextHeaderIdWidths:f,isResizingColumn:v}}}if(s.type===K.actions.columnResizing){const{clientX:g}=s,{startX:v=0,columnWidth:d=1,nextColumnWidth:w=1,headerIdWidths:B=[],nextHeaderIdWidths:f=[]}=o.columnResizing;if(!u)return o;const F=g-v,W=Vn(B,F/d),A=qo(W,u.flatHeaders)<u.tableWidth,$=(u==null?void 0:u.columnResizeMode)==="fit"||(u==null?void 0:u.columnResizeMode)==="expand"&&A?Vn(f,-F/w):{};return!jn(W,u.flatHeaders)||!jn($,u.flatHeaders)||!Xo({...W,...$},u)?o:(u==null||u.flatHeaders.forEach(N=>{N.width||(N.width=N.resizeWidth)}),{...o,columnResizing:{...o.columnResizing,columnWidths:{...o.columnResizing.columnWidths,...W,...$}}})}return s.type===K.actions.columnDoneResizing?{...o,columnResizing:{...o.columnResizing,startX:void 0,isResizingColumn:void 0}}:o},Vn=(o,s)=>{const c={};return o.forEach(([u,g])=>{c[u]=Math.max(g+g*s,0)}),c},jn=(o,s)=>{if(Object.values(o).some(c=>c<=1))return!1;for(const[c,u]of Object.entries(o)){const g=s==null?void 0:s.find(w=>w.id===c);if(!g)continue;const v=g.minWidth||0,d=g.maxWidth||1/0;if(u<v||u>d)return!1}return!0},Xo=(o,s)=>{if(s.columnResizeMode==="fit")return!0;let c=0;for(const u of s.flatHeaders)c+=o[u.id]?o[u.id]:ot(u);return!(Math.round(c)<s.tableWidth)},$o=o=>{const{flatHeaders:s,getHooks:c,state:{columnResizing:u},columnResizeMode:g}=o,v=K.useGetLatest(o);s.forEach((d,w)=>{var W;const B=u.columnWidths[d.id];d.width=B||d.width||d.originalWidth,d.isResizing=u.isResizingColumn===d.id;const f=d.disableResizing&&g==="fit"?_n(d,o):d,F=g==="expand"&&w===s.length-1?_n(d,o):Uo(d,o);d.canResize=d.disableResizing!=null?!d.disableResizing:!0,g==="fit"?d.isResizerVisible=d.canResize&&!!F||f&&!!((W=o.flatHeaders[w+1])!=null&&W.canResize):d.isResizerVisible=d.canResize&&!!f,d.getResizerProps=K.makePropGetter(c().getResizerProps,{instance:v(),header:f,nextHeader:F})})},_n=(o,s)=>{var g;const c=(((g=o.parent)==null?void 0:g.columns)||s.flatHeaders).filter(({isVisible:v})=>v),u=c.findIndex(v=>v.id===o.id);return[...c].slice(0,u).reverse().find(v=>!v.disableResizing)},Uo=(o,s)=>{var g;const c=(((g=o.parent)==null?void 0:g.columns)||s.flatHeaders).filter(({isVisible:v})=>v),u=c.findIndex(v=>v.id===o.id);return[...c].slice(u+1).find(v=>!v.disableResizing)};function Xn(o){const s=[],c=u=>{u.columns&&u.columns.length&&u.columns.map(c),s.push(u)};return c(o),s}const ot=o=>o?typeof o.width=="string"&&Number.isNaN(Number(o.width))?Number(o.resizeWidth||0):Number(o.width||o.resizeWidth||0):0,qo=(o,s)=>{let c=0;for(const u of s)c+=o[u.id]?o[u.id]:ot(u);return c};let ht=null;const Ko=()=>{if(ht!=null)return ht;try{const o={once:!0,get passive(){return ht=!0,!1}};window.addEventListener("test",()=>{},o)}catch{ht=!1}return ht},Dt={columnDragStart:"columnDragStart",columnDragEnd:"columnDragEnd"},Jo=o=>s=>{s.getDragAndDropProps=[Yo(o)],s.stateReducers.push(Zo),s.useInstance.push(Qo)},Yo=o=>(s,{instance:c,header:u})=>{if(!o||u.disableReordering)return s;const g=()=>{c.dispatch({type:Dt.columnDragStart,columnIndex:c.flatHeaders.indexOf(u)})},v=(F,W)=>{const A=F.currentTarget;A.classList.remove(Lt["iui-table-reorder-column-right"]),A.classList.remove(Lt["iui-table-reorder-column-left"]),W==="left"?A.classList.add(Lt["iui-table-reorder-column-left"]):W==="right"&&A.classList.add(Lt["iui-table-reorder-column-right"])},d=(F,W,A)=>{const $=[...F],[N]=$.splice(W,1);return $.splice(A,0,N),$};return[s,{draggable:!0,onDragStart:g,onDragOver:F=>{F.preventDefault();const W=c.flatHeaders.indexOf(u);c.state.columnReorderStartIndex!==W&&v(F,c.state.columnReorderStartIndex>W?"left":"right")},onDragLeave:F=>{v(F)},onDrop:F=>{F.preventDefault(),v(F);const W=c.allColumns.map(N=>N.id),A=c.state.columnReorderStartIndex,$=W.findIndex(N=>N===u.id);A===$||A===-1||$===-1||(c.setColumnOrder(d(W,A,$)),c.dispatch({type:Dt.columnDragEnd,columnIndex:-1}))}}]},Zo=(o,s)=>{switch(s.type){case K.actions.init:return{...o,columnReorderStartIndex:-1};case Dt.columnDragStart:return{...o,columnReorderStartIndex:s.columnIndex};case Dt.columnDragEnd:return{...o,columnReorderStartIndex:-1};default:return o}},Qo=o=>{const{flatHeaders:s,getHooks:c}=o,u=K.useGetLatest(o);s.forEach(g=>{g.getDragAndDropProps=K.makePropGetter(c().getDragAndDropProps,{instance:u(),header:g})})};function ei({data:o,enableVirtualization:s,page:c,paginatorRenderer:u,scrollToRow:g}){const v=p.useRef({}),d=p.useRef(c);d.current=c;const w=p.useRef(o);w.current=o;const B=p.useMemo(()=>{if(!g||u)return;const F=g(d.current,w.current);return F<0?void 0:F},[u,g]);p.useEffect(()=>{var F,W;s||B===void 0||B===null||B<0||(W=v.current[(F=d.current[B])==null?void 0:F.id])==null||W.scrollIntoView()},[s,B]);const f=p.useCallback(F=>W=>{v.current[F.id]=W},[]);return{scrollToIndex:B,tableRowRef:f}}K.actions.setScrolledLeft="setScrolledLeft";K.actions.setScrolledRight="setScrolledRight";const ti=o=>{o.stateReducers.push(ni),o.useInstance.push(ri)},ni=(o,s)=>{var c,u;return s.type===K.actions.init?{...o,sticky:{}}:s.type===K.actions.setScrolledLeft&&((c=o.sticky)==null?void 0:c.isScrolledToLeft)!==s.value?{...o,sticky:{...o.sticky,isScrolledToLeft:s.value}}:s.type===K.actions.setScrolledRight&&((u=o.sticky)==null?void 0:u.isScrolledToRight)!==s.value?{...o,sticky:{...o.sticky,isScrolledToRight:s.value}}:o},ri=o=>{const{flatHeaders:s}=o;s.forEach(g=>{g.originalSticky||(g.originalSticky=g.sticky??"none"),g.sticky=g.originalSticky==="none"?void 0:g.originalSticky});let c=!1;[...s].reverse().forEach(g=>{g.sticky==="left"&&(c=!0),c&&(g.sticky="left")});let u=!1;s.forEach(g=>{g.sticky==="right"&&(u=!0),u&&(g.sticky="right")})},oi=(o,s,c)=>{if(!(s!=null&&s.preFilteredFlatRows.length)){c==null||c([],o);return}const u=[];s.preFilteredFlatRows.forEach(g=>{o.expanded[g.id]&&u.push(g.original)}),c==null||c(u,o)},ii=(o,s,c,u,g)=>{const v=c.filters.find(d=>d.id===s.columnId);return(v==null?void 0:v.value)!=s.filterValue?o.filters.map(w=>{const B=g==null?void 0:g.allColumns.find(f=>f.id===w.id);return{id:w.id,value:w.value,fieldType:(B==null?void 0:B.fieldType)??"text",filterType:(B==null?void 0:B.filter)??"text"}}):u},mn=(o,s,c,u)=>{if(!(s!=null&&s.rows.length)){c==null||c([],o);return}const g={},v=w=>{if(u!=null&&u(w.original))return!1;let B=!0;return w.initialSubRows.forEach(f=>{v(f)||(B=!1)}),(!s.selectSubRows&&o.selectedRowIds[w.id]||!w.initialSubRows.length&&o.selectedRowIds[w.id]||w.initialSubRows.length&&B)&&(g[w.id]=!0),!!g[w.id]};s.initialRows.forEach(w=>v(w));const d=ai(g,s);o.selectedRowIds=g,c==null||c(d,o)},si=(o,s,c,u,g)=>{mn(o,c,u,g),o.lastSelectedRowId=s.id},li=(o,s,c,u,g)=>{const v={[s.id]:!0};if(c!=null&&c.selectSubRows){const w=B=>{v[B.id]=!0,B.subRows.forEach(f=>w(f))};w(c.rowsById[s.id])}const d={...o,lastSelectedRowId:s.id,selectedRowIds:v};return mn(d,c,u,g),d},ui=(o,s,c,u,g)=>{if(c==null)return o;let v=Math.max(0,c.flatRows.findIndex(W=>W.id===o.lastSelectedRowId)),d=Math.max(0,c.flatRows.findIndex(W=>W.id===s.id));if(v>d){const W=v;v=d,d=W}const w=o.lastSelectedRowId==null||!!o.selectedRowIds[o.lastSelectedRowId],B=s.ctrlPressed?{...o.selectedRowIds}:{};c.flatRows.slice(v,d+1).forEach(W=>B[W.id]=w);const f=W=>{B[W.id]=w,W.subRows.forEach(A=>f(A))};f(c.flatRows[d]);const F={...o,selectedRowIds:B};return mn(F,c,u,g),F},ai=(o,s)=>{const c=[],u=g=>{o[g.id]&&c.push(g.original),g.initialSubRows.forEach(v=>u(v))};return s==null||s.initialRows.forEach(g=>u(g)),c},ci=o=>({...o,isTableResizing:!0}),di=(o,s)=>({...o,isTableResizing:!1,columnResizing:{...o.columnResizing,columnWidths:{...s.columnWidths}}}),$n="singleRowSelected",Un="shiftRowSelected",qn="tableResizeStart",Kn="tableResizeEnd",Jn={default:72,withExpander:108},fi=vo(),Rr=o=>{const s=[];return o.forEach(c=>{s.push(c),"columns"in c&&s.push(...Rr(c.columns))}),s},bi=o=>{const{data:s,columns:c,isLoading:u=!1,emptyTableContent:g,className:v,style:d,id:w,isSelectable:B=!1,onSelect:f,onRowClick:F,selectionMode:W="multi",isSortable:A=!1,onSort:$,stateReducer:N,onBottomReached:re,onRowInViewport:ce,intersectionMargin:ue=300,subComponent:ge,onExpand:Z,onFilter:te,globalFilterValue:se,emptyFilteredTableContent:Be,filterTypes:we,expanderCell:He,isRowDisabled:oe,rowProps:be,density:ke="default",selectSubRows:jt=!0,getSubRows:Me,selectRowOnClick:Se=!0,paginatorRenderer:De,pageSize:_e=25,isResizable:Xe=!1,columnResizeMode:Ge="fit",styleType:it="default",enableVirtualization:Ae=!1,enableColumnReordering:$e=!1,headerWrapperProps:Ue,headerProps:qe,bodyProps:Ke,emptyTableContentProps:Re,..._t}=o;Zn();const Pe=p.useRef(),Xt=p.useMemo(()=>({maxWidth:0,minWidth:0,width:0}),[]),Rt=p.useRef(re),yt=p.useRef(ce);p.useEffect(()=>{Rt.current=re,yt.current=ce},[re,ce]);const Je=p.useMemo(()=>Rr(c).some(X=>X.id===vt),[c]),st=p.useCallback(I=>{I.key==="Shift"&&Pe.current&&(Pe.current.documentElement.style.userSelect="none")},[]),Ye=p.useCallback(I=>{I.key==="Shift"&&Pe.current&&(Pe.current.documentElement.style.userSelect="")},[]);p.useEffect(()=>{if(!B||W!=="multi")return;const I=Pe.current;return I==null||I.addEventListener("keydown",st),I==null||I.addEventListener("keyup",Ye),()=>{I==null||I.removeEventListener("keydown",st),I==null||I.removeEventListener("keyup",Ye)}},[B,W,Pe,st,Ye]);const lt=p.useRef([]),Ve=p.useRef(lt.current),$t=p.useCallback((I,X,_,ye)=>{switch(X.type){case K.actions.toggleSortBy:$==null||$(I);break;case K.actions.setFilter:Ve.current=ii(I,X,_,Ve.current,ye);break;case K.actions.toggleRowExpanded:case K.actions.toggleAllRowsExpanded:oi(I,ye,Z);break;case $n:{I=li(I,X,ye,f,Je?void 0:oe);break}case Un:{I=ui(I,X,ye,f,Je?void 0:oe);break}case K.actions.toggleRowSelected:case K.actions.toggleAllRowsSelected:case K.actions.toggleAllPageRowsSelected:{si(I,X,ye,f,Je?void 0:oe);break}case qn:{I=ci(I);break}case Kn:{I=di(I,X);break}}return N?N(I,X,_,ye):I},[Je,oe,Z,f,$,N]),Ut=p.useMemo(()=>({...Go,...we}),[we]),Ze=p.useMemo(()=>s.some((I,X)=>Me?Me(I,X):I.subRows),[s,Me]),Ce=K.useTable({manualPagination:!De,paginateExpandedRows:!1,...o,columns:c,defaultColumn:Xt,disableSortBy:!A,stateReducer:$t,filterTypes:Ut,selectSubRows:jt,data:s,getSubRows:Me,initialState:{pageSize:_e,...o.initialState},columnResizeMode:Ge},K.useFlexLayout,vr(Pe),K.useFilters,Oo(Ze),K.useGlobalFilter,K.useSortBy,K.useExpanded,K.usePagination,K.useRowSelect,Do,Ao(ge,He,oe),No(B,W,oe,ke),K.useColumnOrder,Jo($e),ti),{getTableProps:qt,rows:ut,headerGroups:wt,getTableBodyProps:Kt,prepareRow:bt,state:me,allColumns:St,dispatch:Ie,page:We,gotoPage:Ct,setPageSize:Qe,flatHeaders:et,visibleColumns:Jt,setGlobalFilter:Et}=Ce;let at=wt;c.length===1&&"columns"in c[0]&&(at=wt.slice(1),fi("Table's `columns` prop should not have a top-level `Header` or sub-columns. They are only allowed to be passed for backwards compatibility.\n See https://github.com/iTwin/iTwinUI/wiki/iTwinUI-react-v2-migration-guide#breaking-changes"));const xt=Object.entries(_t).reduce((I,[X,_])=>((X.startsWith("data-")||X.startsWith("aria-"))&&(I[X]=_),I),{}),tt=St.some(I=>I.filterValue!=null&&I.filterValue!=="")||!!se,ct=I=>(s.length!==0||tt)&&I.canFilter&&!!I.Filter,je=I=>s.length!==0&&I.canSort,dt=p.useCallback((I,X)=>{const _=oe==null?void 0:oe(X.original),ye=I.ctrlKey||I.metaKey;_||F==null||F(I,X),B&&!_&&Se&&!I.isDefaultPrevented()&&(W==="multi"&&I.shiftKey?Ie({type:Un,id:X.id,ctrlPressed:ye}):!X.isSelected&&(W==="single"||!ye)?Ie({type:$n,id:X.id}):X.toggleRowSelected(!X.isSelected))},[oe,B,Se,W,Ie,F]);p.useEffect(()=>{Et(se)},[se,Et]),p.useEffect(()=>{Qe(_e)},[_e,Qe]),p.useEffect(()=>{lt.current!==Ve.current&&(lt.current=Ve.current,te==null||te(Ve.current,me,Ce.filteredRows))},[me,Ce.filteredRows,te]);const nt=p.useRef([]);p.useEffect(()=>{nt.current.length>0&&JSON.stringify(nt.current)!==JSON.stringify(c)&&Ce.setColumnOrder([]),nt.current=c},[c,Ce]);const It=p.useMemo(()=>({currentPage:me.pageIndex,pageSize:me.pageSize,totalRowsCount:ut.length,size:ke!=="default"?"small":"default",isLoading:u,onPageChange:Ct,onPageSizeChange:Qe,totalSelectedRowsCount:W==="single"?0:Ce.selectedFlatRows.length}),[ke,Ct,u,ut.length,Qe,me.pageIndex,me.pageSize,Ce.selectedFlatRows,W]),Fe=p.useRef(null),{scrollToIndex:zt,tableRowRef:Ne}=ei({...o,page:We}),Le=p.useRef({}),kt=p.useRef(0),Yt=p.useCallback(({width:I})=>{Xe&&(Ce.tableWidth=I,I!==kt.current&&(kt.current=I,et.forEach(X=>{Le.current[X.id]&&(X.resizeWidth=Le.current[X.id].getBoundingClientRect().width)}),Object.keys(me.columnResizing.columnWidths).length!==0&&Ie({type:qn})))},[Ie,me.columnResizing.columnWidths,et,Ce,Xe]),[Bt]=mo(Yt);ho(()=>{if(me.isTableResizing){const I={};et.forEach(X=>{Le.current[X.id]&&(I[X.id]=Le.current[X.id].getBoundingClientRect().width)}),Ie({type:Kn,columnWidths:I})}});const ft=p.useCallback(I=>{const X=We[I];return bt(X),p.createElement(To,{row:X,rowProps:be,isLast:I===We.length-1,onRowInViewport:yt,onBottomReached:Rt,intersectionMargin:ue,state:me,key:X.getRowProps().key,onClick:dt,subComponent:ge,isDisabled:!!(oe!=null&&oe(X.original)),tableHasSubRows:Ze,tableInstance:Ce,expanderCell:He,scrollContainerRef:Fe.current,tableRowRef:Ae?void 0:Ne(X),density:ke})},[We,bt,be,ue,me,dt,ge,oe,Ze,Ce,He,Ae,Ne,ke]),Zt=p.useCallback(I=>ft(I),[ft]),gt=()=>{!Fe.current||et.every(I=>!I.sticky)||(Fe.current.scrollLeft!==0?Ie({type:K.actions.setScrolledRight,value:!0}):Ie({type:K.actions.setScrolledRight,value:!1}),Fe.current.scrollLeft!==Fe.current.scrollWidth-Fe.current.clientWidth?Ie({type:K.actions.setScrolledLeft,value:!0}):Ie({type:K.actions.setScrolledLeft,value:!1}))};p.useEffect(()=>{gt()},[]);const rt=p.useRef(!1);return p.createElement(ir.Provider,{value:c},p.createElement(ie,{ref:Yn(Fe,I=>{Pe.current=I==null?void 0:I.ownerDocument,Bt(I)}),id:w,...qt({className:xe("iui-table",v),style:{minWidth:0,...d}}),onScroll:()=>gt(),"data-iui-size":ke==="default"?void 0:ke,...xt},at.map(I=>{I.headers=I.headers.filter(_=>!_.id.includes("iui-table-checkbox-selector_placeholder")&&!_.id.includes("iui-table-expander_placeholder"));const X=I.getHeaderGroupProps({className:"iui-table-row"});return p.createElement(ie,{as:"div",key:X.key,...Ue,className:xe("iui-table-header-wrapper",Ue==null?void 0:Ue.className)},p.createElement(ie,{as:"div",...qe,className:xe("iui-table-header",qe==null?void 0:qe.className)},p.createElement(ie,{...X},I.headers.map((_,ye)=>{const{onClick:pt,...Qt}=_.getSortByToggleProps(),Pt=Ze&&ye===I.headers.findIndex(Ee=>Ee.id!==vt);[void 0,0].includes(_.minWidth)&&(_.minWidth=Pt?Jn.withExpander:Jn.default);const Ft=_.getHeaderProps({...Qt,className:xe("iui-table-cell",{"iui-actionable":_.canSort,"iui-sorted":_.isSorted,"iui-table-cell-sticky":!!_.sticky},_.columnClassName),style:{...nr(_,!!me.isTableResizing),...Pt&&or({density:ke}),...rr(_,Jt),flexWrap:"wrap",columnGap:"var(--iui-size-xs)"}});return p.createElement(ie,{...Ft,..._.getDragAndDropProps(),key:Ft.key,title:void 0,ref:Ee=>{Ee&&(Le.current[_.id]=Ee,_.resizeWidth=Ee.getBoundingClientRect().width)},onMouseDown:()=>{rt.current=!0},onClick:Ee=>{rt.current&&(pt==null||pt(Ee),rt.current=!1)},tabIndex:je(_)?0:void 0,onKeyDown:Ee=>{Ee.key=="Enter"&&je(_)&&_.toggleSortBy()}},p.createElement(fn,null,typeof _.Header=="string"?p.createElement(er,null,p.createElement("slot",null)):p.createElement("slot",null),p.createElement("slot",{name:"actions"}),p.createElement("slot",{name:"resizers"}),p.createElement("slot",{name:"shadows"})),_.render("Header"),(ct(_)||je(_))&&p.createElement(ie,{className:"iui-table-header-actions-container",onKeyDown:Ee=>Ee.stopPropagation(),slot:"actions"},ct(_)&&p.createElement(Ho,{column:_}),je(_)&&p.createElement(ie,{className:"iui-table-cell-end-icon"},_.isSortedDesc||!_.isSorted&&_.sortDescFirst?p.createElement(Eo,{className:"iui-table-sort","aria-hidden":!0}):p.createElement(Co,{className:"iui-table-sort","aria-hidden":!0}))),Xe&&_.isResizerVisible&&(ye!==I.headers.length-1||Ge==="expand")&&p.createElement(ie,{..._.getResizerProps(),className:"iui-table-resizer",slot:"resizers"},p.createElement(ie,{className:"iui-table-resizer-bar"})),$e&&!_.disableReordering&&p.createElement(ie,{className:"iui-table-reorder-bar",slot:"resizers"}),_.sticky==="left"&&me.sticky.isScrolledToRight&&p.createElement(ie,{className:"iui-table-cell-shadow-right",slot:"shadows"}),_.sticky==="right"&&me.sticky.isScrolledToLeft&&p.createElement(ie,{className:"iui-table-cell-shadow-left",slot:"shadows"}))}))))}),p.createElement(ie,{as:"div",...Ke,...Kt({className:xe("iui-table-body",{"iui-zebra-striping":it==="zebra-rows"},Ke==null?void 0:Ke.className),style:{outline:0}}),tabIndex:-1,"aria-multiselectable":B&&W==="multi"||void 0},s.length!==0&&p.createElement(p.Fragment,null,Ae?p.createElement(wo,{itemsLength:We.length,itemRenderer:Zt,scrollToIndex:zt}):We.map((I,X)=>ft(X))),u&&s.length===0&&p.createElement(ie,{as:"div",...Re,className:xe("iui-table-empty",Re==null?void 0:Re.className)},p.createElement(Mn,{indeterminate:!0})),!u&&s.length===0&&!tt&&p.createElement(ie,{as:"div",...Re,className:xe("iui-table-empty",Re==null?void 0:Re.className)},p.createElement("div",null,g)),!u&&(s.length===0||ut.length===0)&&tt&&p.createElement(ie,{as:"div",...Re,className:xe("iui-table-empty",Re==null?void 0:Re.className)},p.createElement("div",null,Be))),u&&s.length!==0&&p.createElement(ie,{className:"iui-table-body-extra","data-iui-loading":"true"},p.createElement(Mn,{indeterminate:!0,size:"small"})),De==null?void 0:De(It)))};export{pn as D,sr as E,vt as S,bi as T,Bo as a,Po as b,qn as t};
